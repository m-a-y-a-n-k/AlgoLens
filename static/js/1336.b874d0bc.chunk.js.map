{"version":3,"file":"static/js/1336.b874d0bc.chunk.js","mappings":"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","sources":["routing/site/math/components/MonteCarloPi/MonteCarloPi.jsx","routing/site/math/components/MonteCarloPi/index.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\n\r\nconst Layout = styled.div`\r\n  width: 100%;\r\n  max-width: 1100px;\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 16px;\r\n\r\n  @media (min-width: 980px) {\r\n    grid-template-columns: 1fr 360px;\r\n    align-items: start;\r\n  }\r\n`\r\n\r\nconst Card = styled.div`\r\n  border: 1px solid rgba(255, 255, 255, 0.12);\r\n  border-radius: 16px;\r\n  background: linear-gradient(\r\n    180deg,\r\n    rgba(255, 255, 255, 0.06),\r\n    rgba(255, 255, 255, 0.02)\r\n  );\r\n  box-shadow: 0 14px 40px rgba(0, 0, 0, 0.45);\r\n  overflow: hidden;\r\n`\r\n\r\nconst CanvasWrap = styled.div`\r\n  width: 100%;\r\n  aspect-ratio: 1;\r\n  position: relative;\r\n`\r\n\r\nconst Canvas = styled.canvas`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: block;\r\n`\r\n\r\nconst HUD = styled.div`\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  right: 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 10px;\r\n  pointer-events: none;\r\n`\r\n\r\nconst Pill = styled.div`\r\n  padding: 8px 10px;\r\n  border-radius: 999px;\r\n  background: rgba(0, 0, 0, 0.55);\r\n  border: 1px solid rgba(255, 255, 255, 0.12);\r\n  color: rgba(255, 255, 255, 0.92);\r\n  font-size: 12px;\r\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,\r\n    \"Liberation Mono\", \"Courier New\", monospace;\r\n  backdrop-filter: blur(8px);\r\n`\r\n\r\nconst Controls = styled.div`\r\n  border: 1px solid rgba(255, 255, 255, 0.12);\r\n  border-radius: 16px;\r\n  background: rgba(0, 0, 0, 0.35);\r\n  box-shadow: 0 14px 40px rgba(0, 0, 0, 0.35);\r\n  padding: 14px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n`\r\n\r\nconst ButtonRow = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 12px;\r\n`\r\n\r\nconst Button = styled.button`\r\n  padding: 10px 12px;\r\n  border-radius: 10px;\r\n  border: 1px solid rgba(255, 255, 255, 0.14);\r\n  background: ${(p) =>\r\n    p.primary\r\n      ? \"linear-gradient(180deg, #7fe7ff, #2dd4ff)\"\r\n      : \"rgba(255, 255, 255, 0.06)\"};\r\n  color: ${(p) => (p.primary ? \"#041014\" : \"rgba(255, 255, 255, 0.9)\")};\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n  transition: transform 0.15s ease;\r\n  min-width: 110px;\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n  }\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 10px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  font-size: 0.9rem;\r\n  margin: 10px 0 6px;\r\n`\r\n\r\nconst Value = styled.span`\r\n  color: rgba(255, 255, 255, 0.65);\r\n  font-variant-numeric: tabular-nums;\r\n`\r\n\r\nconst Slider = styled.input`\r\n  width: 100%;\r\n`\r\n\r\nconst StatGrid = styled.div`\r\n  margin-top: 12px;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 10px;\r\n`\r\n\r\nconst Stat = styled.div`\r\n  padding: 10px;\r\n  border-radius: 12px;\r\n  background: rgba(255, 255, 255, 0.06);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n`\r\n\r\nconst StatTitle = styled.div`\r\n  font-size: 12px;\r\n  color: rgba(255, 255, 255, 0.65);\r\n`\r\n\r\nconst StatValue = styled.div`\r\n  margin-top: 4px;\r\n  font-size: 16px;\r\n  font-weight: 800;\r\n  color: rgba(255, 255, 255, 0.92);\r\n  font-variant-numeric: tabular-nums;\r\n`\r\n\r\nfunction clamp(n, a, b) {\r\n  return Math.max(a, Math.min(b, n))\r\n}\r\n\r\nfunction format(n) {\r\n  return n.toLocaleString(undefined, { maximumFractionDigits: 0 })\r\n}\r\n\r\nexport default function MonteCarloPi() {\r\n  const canvasRef = useRef(null)\r\n  const wrapRef = useRef(null)\r\n  const rafRef = useRef(0)\r\n\r\n  const [running, setRunning] = useState(true)\r\n  const [batchSize, setBatchSize] = useState(800)\r\n  const [speed, setSpeed] = useState(1.0)\r\n  const [dotSize, setDotSize] = useState(2)\r\n  const [showGuides, setShowGuides] = useState(true)\r\n\r\n  // counters in refs (no rerender spam)\r\n  const countsRef = useRef({ total: 0, inside: 0 })\r\n  const [snapshot, setSnapshot] = useState({ total: 0, inside: 0 })\r\n\r\n  const estimate = useMemo(() => {\r\n    const { total, inside } = snapshot\r\n    return total > 0 ? (4 * inside) / total : 0\r\n  }, [snapshot])\r\n\r\n  // Resize canvas to container with DPR cap (fast on mobile)\r\n  useEffect(() => {\r\n    const wrap = wrapRef.current\r\n    const canvas = canvasRef.current\r\n    if (!wrap || !canvas) return\r\n\r\n    const ro = new ResizeObserver(() => {\r\n      const rect = wrap.getBoundingClientRect()\r\n      const dpr = clamp(window.devicePixelRatio || 1, 1, 2)\r\n      canvas.width = Math.max(1, Math.floor(rect.width * dpr))\r\n      canvas.height = Math.max(1, Math.floor(rect.height * dpr))\r\n\r\n      const ctx = canvas.getContext(\"2d\")\r\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0)\r\n\r\n      // On resize, redraw guides + clear points (consistent UX)\r\n      ctx.clearRect(0, 0, rect.width, rect.height)\r\n      drawGuides(ctx, rect.width, rect.height, showGuides)\r\n    })\r\n    ro.observe(wrap)\r\n    return () => ro.disconnect()\r\n  }, [showGuides])\r\n\r\n  const reset = () => {\r\n    countsRef.current = { total: 0, inside: 0 }\r\n    setSnapshot({ total: 0, inside: 0 })\r\n    const canvas = canvasRef.current\r\n    if (!canvas) return\r\n    const ctx = canvas.getContext(\"2d\")\r\n    const rect = canvas.getBoundingClientRect()\r\n    ctx.clearRect(0, 0, rect.width, rect.height)\r\n    drawGuides(ctx, rect.width, rect.height, showGuides)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current\r\n    if (!canvas) return\r\n    const ctx = canvas.getContext(\"2d\")\r\n\r\n    let frame = 0\r\n    const tick = () => {\r\n      rafRef.current = requestAnimationFrame(tick)\r\n      if (!running) return\r\n\r\n      const rect = canvas.getBoundingClientRect()\r\n      const w = rect.width\r\n      const h = rect.height\r\n\r\n      // (re)draw guides lightly every N frames (keeps contrast)\r\n      frame++\r\n      if (showGuides && frame % 90 === 0) {\r\n        // redraw guides without clearing points by drawing with low alpha\r\n        ctx.save()\r\n        ctx.globalAlpha = 0.12\r\n        drawGuides(ctx, w, h, true)\r\n        ctx.restore()\r\n      }\r\n\r\n      const n = Math.floor(batchSize * speed)\r\n      const r = Math.min(w, h) * 0.48\r\n      const cx = w / 2\r\n      const cy = h / 2\r\n\r\n      let inside = 0\r\n      for (let i = 0; i < n; i++) {\r\n        const x = Math.random() * 2 - 1\r\n        const y = Math.random() * 2 - 1\r\n        const inCircle = x * x + y * y <= 1\r\n        if (inCircle) inside++\r\n\r\n        const px = cx + x * r\r\n        const py = cy + y * r\r\n\r\n        ctx.fillStyle = inCircle\r\n          ? \"rgba(127,231,255,0.9)\"\r\n          : \"rgba(251,172,97,0.75)\"\r\n        ctx.fillRect(px, py, dotSize, dotSize)\r\n      }\r\n\r\n      countsRef.current.total += n\r\n      countsRef.current.inside += inside\r\n\r\n      // update UI at ~10fps\r\n      if (frame % 6 === 0) {\r\n        setSnapshot({ ...countsRef.current })\r\n      }\r\n    }\r\n\r\n    rafRef.current = requestAnimationFrame(tick)\r\n    return () => cancelAnimationFrame(rafRef.current)\r\n  }, [batchSize, dotSize, running, showGuides, speed])\r\n\r\n  return (\r\n    <Layout>\r\n      <Card>\r\n        <CanvasWrap ref={wrapRef}>\r\n          <Canvas ref={canvasRef} />\r\n          <HUD>\r\n            <Pill>{running ? \"RUNNING\" : \"PAUSED\"}</Pill>\r\n            <Pill>π ≈ {estimate ? estimate.toFixed(6) : \"—\"}</Pill>\r\n          </HUD>\r\n        </CanvasWrap>\r\n      </Card>\r\n\r\n      <Controls>\r\n        <ButtonRow>\r\n          <Button primary onClick={() => setRunning((v) => !v)}>\r\n            {running ? \"Pause\" : \"Play\"}\r\n          </Button>\r\n          <Button onClick={reset}>Reset</Button>\r\n          <Button onClick={() => setShowGuides((v) => !v)}>\r\n            Guides: {showGuides ? \"On\" : \"Off\"}\r\n          </Button>\r\n        </ButtonRow>\r\n\r\n        <Label>\r\n          Points per frame <Value>{format(batchSize)}</Value>\r\n        </Label>\r\n        <Slider\r\n          type=\"range\"\r\n          min=\"100\"\r\n          max=\"5000\"\r\n          step=\"50\"\r\n          value={batchSize}\r\n          onChange={(e) => setBatchSize(parseInt(e.target.value, 10))}\r\n        />\r\n\r\n        <Label>\r\n          Speed <Value>{speed.toFixed(2)}×</Value>\r\n        </Label>\r\n        <Slider\r\n          type=\"range\"\r\n          min=\"0.25\"\r\n          max=\"3.0\"\r\n          step=\"0.05\"\r\n          value={speed}\r\n          onChange={(e) => setSpeed(parseFloat(e.target.value))}\r\n        />\r\n\r\n        <Label>\r\n          Dot size <Value>{dotSize}px</Value>\r\n        </Label>\r\n        <Slider\r\n          type=\"range\"\r\n          min=\"1\"\r\n          max=\"6\"\r\n          step=\"1\"\r\n          value={dotSize}\r\n          onChange={(e) => setDotSize(parseInt(e.target.value, 10))}\r\n        />\r\n\r\n        <StatGrid>\r\n          <Stat>\r\n            <StatTitle>Total points</StatTitle>\r\n            <StatValue>{format(snapshot.total)}</StatValue>\r\n          </Stat>\r\n          <Stat>\r\n            <StatTitle>Inside circle</StatTitle>\r\n            <StatValue>{format(snapshot.inside)}</StatValue>\r\n          </Stat>\r\n          <Stat>\r\n            <StatTitle>Estimate</StatTitle>\r\n            <StatValue>{estimate ? estimate.toFixed(6) : \"—\"}</StatValue>\r\n          </Stat>\r\n          <Stat>\r\n            <StatTitle>Error vs π</StatTitle>\r\n            <StatValue>\r\n              {snapshot.total > 0\r\n                ? Math.abs(Math.PI - estimate).toFixed(6)\r\n                : \"—\"}\r\n            </StatValue>\r\n          </Stat>\r\n        </StatGrid>\r\n      </Controls>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nfunction drawGuides(ctx, w, h, enabled) {\r\n  if (!enabled) return\r\n\r\n  const r = Math.min(w, h) * 0.48\r\n  const cx = w / 2\r\n  const cy = h / 2\r\n\r\n  // background gradient\r\n  const bg = ctx.createLinearGradient(0, 0, 0, h)\r\n  bg.addColorStop(0, \"rgba(2,6,23,1)\")\r\n  bg.addColorStop(1, \"rgba(0,0,0,1)\")\r\n  ctx.fillStyle = bg\r\n  ctx.fillRect(0, 0, w, h)\r\n\r\n  // square boundary (in normalized space)\r\n  ctx.strokeStyle = \"rgba(255,255,255,0.25)\"\r\n  ctx.lineWidth = 1\r\n  ctx.strokeRect(cx - r, cy - r, 2 * r, 2 * r)\r\n\r\n  // circle\r\n  ctx.beginPath()\r\n  ctx.arc(cx, cy, r, 0, Math.PI * 2)\r\n  ctx.strokeStyle = \"rgba(127,231,255,0.35)\"\r\n  ctx.lineWidth = 2\r\n  ctx.stroke()\r\n\r\n  // axes\r\n  ctx.strokeStyle = \"rgba(255,255,255,0.10)\"\r\n  ctx.lineWidth = 1\r\n  ctx.beginPath()\r\n  ctx.moveTo(cx - r, cy)\r\n  ctx.lineTo(cx + r, cy)\r\n  ctx.moveTo(cx, cy - r)\r\n  ctx.lineTo(cx, cy + r)\r\n  ctx.stroke()\r\n}\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport MonteCarloPi from \"./MonteCarloPi\"\r\n\r\nconst MainContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 20px;\r\n  background: radial-gradient(\r\n    circle at 20% 10%,\r\n    #0b1020 0%,\r\n    #05060b 55%,\r\n    #000 100%\r\n  );\r\n  min-height: 100vh;\r\n  color: #eef2ff;\r\n`\r\n\r\nconst Heading = styled.h1`\r\n  font-size: clamp(1.6rem, 3vw, 2.4rem);\r\n  color: #7fe7ff;\r\n  margin: 0 0 10px 0;\r\n  text-align: center;\r\n  text-shadow: 0 0 14px rgba(127, 231, 255, 0.35);\r\n`\r\n\r\nconst Subheading = styled.p`\r\n  margin: 0 0 18px 0;\r\n  text-align: center;\r\n  color: rgba(255, 255, 255, 0.72);\r\n  max-width: 900px;\r\n  font-size: 0.95rem;\r\n`\r\n\r\nexport default function Main() {\r\n  return (\r\n    <MainContainer>\r\n      <Heading>Monte Carlo Estimation of π</Heading>\r\n      <Subheading>\r\n        Random points are thrown into a square. The ratio that land inside the\r\n        inscribed circle approaches \\( \\pi/4 \\). Try adjusting batch size and\r\n        speed for smoother/faster convergence.\r\n      </Subheading>\r\n      <MonteCarloPi />\r\n    </MainContainer>\r\n  )\r\n}\r\n"],"names":["Layout","styled","Card","CanvasWrap","Canvas","HUD","Pill","Controls","ButtonRow","Button","p","primary","Label","Value","Slider","StatGrid","Stat","StatTitle","StatValue","format","n","toLocaleString","undefined","maximumFractionDigits","MonteCarloPi","canvasRef","useRef","wrapRef","rafRef","running","setRunning","useState","batchSize","setBatchSize","speed","setSpeed","dotSize","setDotSize","showGuides","setShowGuides","countsRef","total","inside","snapshot","setSnapshot","estimate","useMemo","useEffect","wrap","current","canvas","ro","ResizeObserver","rect","getBoundingClientRect","dpr","window","devicePixelRatio","a","b","Math","max","min","width","floor","height","ctx","getContext","setTransform","clearRect","drawGuides","observe","disconnect","frame","tick","requestAnimationFrame","w","h","save","globalAlpha","restore","r","cx","cy","i","x","random","y","inCircle","px","py","fillStyle","fillRect","cancelAnimationFrame","_jsxs","children","_jsx","ref","toFixed","onClick","v","reset","type","step","value","onChange","e","parseInt","target","parseFloat","abs","PI","enabled","bg","createLinearGradient","addColorStop","strokeStyle","lineWidth","strokeRect","beginPath","arc","stroke","moveTo","lineTo","MainContainer","Heading","Subheading","Main"],"sourceRoot":""}