"use strict";(self.webpackChunkAlgoLens=self.webpackChunkAlgoLens||[]).push([[7414],{27414:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(72791);const l={container:"SudokuGame_container__yYHk-",headerRow:"SudokuGame_headerRow__zg5nM",title:"SudokuGame_title__OfsRM",hint:"SudokuGame_hint__mf-Dq",toolbar:"SudokuGame_toolbar__WuWxZ",select:"SudokuGame_select__Ai+BG",button:"SudokuGame_button__RDucn",buttonActive:"SudokuGame_buttonActive__B5esm",primaryBtn:"SudokuGame_primaryBtn__I4Gs5",timer:"SudokuGame_timer__1yCyv",gameRow:"SudokuGame_gameRow__GxJKW",sidePanel:"SudokuGame_sidePanel__1S4gC",board:"SudokuGame_board__-SMm9",cell:"SudokuGame_cell__nZEkM",cellFixed:"SudokuGame_cellFixed__9pz+C",cellSelected:"SudokuGame_cellSelected__sqAc3",cellPeer:"SudokuGame_cellPeer__x-lHw",cellSame:"SudokuGame_cellSame__cw-4v",cellConflict:"SudokuGame_cellConflict__m8ozF",valFixed:"SudokuGame_valFixed__QdrjT",valUser:"SudokuGame_valUser__nUymu",placeholder:"SudokuGame_placeholder__DgB0A",notesGrid:"SudokuGame_notesGrid__PaVrN",note:"SudokuGame_note__PM5YM",numpad:"SudokuGame_numpad__EklS1",numpadBtn:"SudokuGame_numpadBtn__I+QOL",wide:"SudokuGame_wide__NV0g+",legend:"SudokuGame_legend__ZjFpH",legendSwatch:"SudokuGame_legendSwatch__D-LHp",swatchGiven:"SudokuGame_swatchGiven__mheE8",swatchSame:"SudokuGame_swatchSame__JVJnd",swatchPeer:"SudokuGame_swatchPeer__fSOVB",swatchConflict:"SudokuGame_swatchConflict__l2ttQ",statusBox:"SudokuGame_statusBox__bPtCx",statusRow:"SudokuGame_statusRow__QpF8t",solved:"SudokuGame_solved__sFAfB",filledWrong:"SudokuGame_filledWrong__mcQ8Q",inProgress:"SudokuGame_inProgress__rtza+",footerNote:"SudokuGame_footerNote__tl0pF"};var o=n(80184);const a=e=>e.map((e=>[...e])),s=()=>Array.from({length:9},(()=>Array(9).fill(0)));function c(e){const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t}function u(e,t,n,r){if(r<1||r>9)return!1;for(let a=0;a<9;a++){if(e[t][a]===r&&a!==n)return!1;if(e[a][n]===r&&a!==t)return!1}const l=3*Math.floor(t/3),o=3*Math.floor(n/3);for(let a=l;a<l+3;a++)for(let l=o;l<o+3;l++)if(e[a][l]===r&&(a!==t||l!==n))return!1;return!0}function i(e){for(let t=0;t<9;t++)for(let n=0;n<9;n++)if(0===e[t][n])return[t,n];return null}function d(e){const t=i(e);if(!t)return!0;const[n,r]=t;for(const l of c([1,2,3,4,5,6,7,8,9]))if(u(e,n,r,l)){if(e[n][r]=l,d(e))return!0;e[n][r]=0}return!1}function m(){const e=s();return d(e),e}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;function n(e,r){if(r.n>=t)return!0;const l=i(e);if(!l)return r.n+=1,r.n>=t;const[o,a]=l;for(let t=1;t<=9;t++)if(u(e,o,a,t)){if(e[o][a]=t,n(e,r))return!0;e[o][a]=0}return!1}const r=a(e),l={n:0};return n(r,l),l.n}function h(){const[e,t]=(0,r.useState)("Easy"),[n,u]=(0,r.useState)(s()),[i,d]=(0,r.useState)(Array.from({length:9},(()=>Array(9).fill(!1)))),[h,_]=(0,r.useState)(null),[S,k]=(0,r.useState)(null),[p,g]=(0,r.useState)(Array.from({length:9},(()=>Array.from({length:9},(()=>new Set))))),[x,w]=(0,r.useState)(!1),[v,j]=(0,r.useState)([]),[G,y]=(0,r.useState)([]),[b,N]=(0,r.useState)(null),[A,M]=(0,r.useState)(0),[$,C]=(0,r.useState)(!1),P=(0,r.useMemo)((()=>function(e){const t=new Set;for(let n=0;n<9;n++){const r={},l={};for(let t=0;t<9;t++){const o=e[n][t],a=e[t][n];0!==o&&(r[o]||=[]).push(t),0!==a&&(l[a]||=[]).push(t)}Object.keys(r).forEach((e=>{r[e].length>1&&r[e].forEach((e=>t.add(`${n},${e}`)))})),Object.keys(l).forEach((e=>{l[e].length>1&&l[e].forEach((e=>t.add(`${e},${n}`)))}))}for(let n=0;n<3;n++)for(let r=0;r<3;r++){const l={};for(let t=3*n;t<3*n+3;t++)for(let n=3*r;n<3*r+3;n++){const r=e[t][n];0!==r&&(l[r]||=[]).push([t,n])}Object.keys(l).forEach((e=>{l[e].length>1&&l[e].forEach((e=>{let[n,r]=e;return t.add(`${n},${r}`)}))}))}return t}(n)),[n]);function E(e){j((e=>[...e,a(n)])),y([]),u(e)}function B(e){const n=m(),r=function(e,t){const n={Easy:40,Medium:50,Hard:58}[t]||50,r=a(e),l=c(Array.from({length:81},((e,t)=>[Math.floor(t/9),t%9])));let o=0;for(const[a,s]of l){if(o>=n)break;const e=r[a][s];0!==e&&(r[a][s]=0,1!==f(r,2)?r[a][s]=e:o++)}return r}(n,e),l=r.map((e=>e.map((e=>0!==e))));t(e),u(a(r)),d(l),_(a(n)),k(null),g(Array.from({length:9},(()=>Array.from({length:9},(()=>new Set))))),j([]),y([]),N(Date.now()),M(0),C(!1)}(0,r.useEffect)((()=>{if(null===b||$)return;const e=setInterval((()=>M(Date.now()-b)),250);return()=>clearInterval(e)}),[b,$]),(0,r.useEffect)((()=>{B("Easy")}),[]);const D=S?n[S.r][S.c]:0;function F(e){if(!S)return;const{r:t,c:r}=S;if(i[t][r])return;const l=a(n);if(x){const n=new Set(p[t][r]);n.has(e)?n.delete(e):n.add(e);const l=p.map(((e,l)=>e.map(((e,o)=>l===t&&o===r?n:new Set(e)))));g(l)}else{l[t][r]=e,E(l);const n=p.map((e=>e.map((e=>new Set(e)))));for(let r=0;r<9;r++)n[t][r].delete(e);for(let t=0;t<9;t++)n[t][r].delete(e);const o=3*Math.floor(t/3),a=3*Math.floor(r/3);for(let t=o;t<o+3;t++)for(let r=a;r<a+3;r++)n[t][r].delete(e);g(n)}}function R(){if(!S)return;const{r:e,c:t}=S;if(i[e][t])return;const r=a(n);r[e][t]=0,E(r)}function O(e,t,n){const r=i[e][t],o=S&&S.r===e&&S.c===t,a=0!==D&&n===D,s=S&&(S.r===e||S.c===t||Math.floor(S.r/3)===Math.floor(e/3)&&Math.floor(S.c/3)===Math.floor(t/3)),c=P.has(`${e},${t}`);return[l.cell,r?l.cellFixed:"",o?l.cellSelected:"",s&&!o?l.cellPeer:"",a&&!o?l.cellSame:"",c?l.cellConflict:""].filter(Boolean).join(" ")}(0,r.useEffect)((()=>{function e(e){if(!S)return;const{r:t,c:n}=S;e.key>="1"&&e.key<="9"?F(parseInt(e.key,10)):["Backspace","Delete","0"].includes(e.key)?(e.preventDefault(),R()):["ArrowUp","w","W"].includes(e.key)?(e.preventDefault(),k({r:Math.max(0,t-1),c:n})):["ArrowDown","s","S"].includes(e.key)?(e.preventDefault(),k({r:Math.min(8,t+1),c:n})):["ArrowLeft","a","A"].includes(e.key)?(e.preventDefault(),k({r:t,c:Math.max(0,n-1)})):["ArrowRight","d","D"].includes(e.key)?(e.preventDefault(),k({r:t,c:Math.min(8,n+1)})):"Enter"===e.key&&w((e=>!e))}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[S,n,x,p]);const{complete:W,correct:z}=(0,r.useMemo)((()=>({complete:n.flat().every((e=>0!==e)),correct:!!h&&function(e,t){for(let n=0;n<9;n++)for(let r=0;r<9;r++)if(e[n][r]!==t[n][r])return!1;return!0}(n,h)})),[n,h]);return(0,o.jsxs)("div",{className:l.container,children:[(0,o.jsxs)("div",{className:l.headerRow,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:l.title,children:"Sudoku"}),(0,o.jsx)("p",{className:l.hint,children:"Keys: 1\u20139 fill \u2022 0/Delete clear \u2022 Arrows/WASD move \u2022 Enter = Pencil"})]}),(0,o.jsxs)("div",{className:l.toolbar,children:[(0,o.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:l.select,children:[(0,o.jsx)("option",{children:"Easy"}),(0,o.jsx)("option",{children:"Medium"}),(0,o.jsx)("option",{children:"Hard"})]}),(0,o.jsx)("button",{onClick:()=>B(e),className:l.primaryBtn,children:"New Game"}),(0,o.jsxs)("button",{onClick:()=>w((e=>!e)),className:`${l.button} ${x?l.buttonActive:""}`,title:"Toggle pencil mode",children:["\u270f\ufe0f ",x?"Pencil On":"Pencil Off"]}),(0,o.jsx)("button",{onClick:function(){j((e=>{if(0===e.length)return e;const t=e[e.length-1];return y((e=>[a(n),...e])),u(t),e.slice(0,-1)}))},className:l.button,disabled:0===v.length,children:"\u27f2 Undo"}),(0,o.jsx)("button",{onClick:function(){y((e=>{if(0===e.length)return e;const t=e[0];return j((e=>[...e,a(n)])),u(t),e.slice(1)}))},className:l.button,disabled:0===G.length,children:"\u27f3 Redo"}),(0,o.jsx)("button",{onClick:function(){if(!h)return;const e=[];for(let o=0;o<9;o++)for(let t=0;t<9;t++)0===n[o][t]&&e.push([o,t]);if(0===e.length)return;const[t,r]=e[Math.floor(Math.random()*e.length)],l=a(n);l[t][r]=h[t][r],E(l)},className:l.button,children:"\ud83d\udca1 Hint"}),(0,o.jsx)("button",{onClick:()=>C((e=>!e)),className:l.button,children:$?"\u25b6\ufe0f Resume":"\u23f8\ufe0f Pause"}),(0,o.jsxs)("div",{className:l.timer,children:["\u23f1\ufe0f ",function(e){const t=Math.floor(e/1e3);return`${String(Math.floor(t/60)).padStart(2,"0")}:${String(t%60).padStart(2,"0")}`}(A)]})]})]}),(0,o.jsxs)("div",{className:l.gameRow,children:[(0,o.jsx)("div",{className:l.board,children:Array.from({length:9},((e,t)=>(0,o.jsx)(r.Fragment,{children:Array.from({length:9},((e,r)=>{const a=n[t][r],s=i[t][r];return(0,o.jsx)("button",{className:O(t,r,a),onClick:()=>k({r:t,c:r}),children:0!==a?(0,o.jsx)("span",{className:s?l.valFixed:l.valUser,children:a}):p[t][r].size>0?(0,o.jsx)("div",{className:l.notesGrid,children:Array.from({length:9},((e,t)=>t+1)).map((e=>(0,o.jsx)("span",{className:l.note,children:p[t][r].has(e)?e:"\xa0"},e)))}):(0,o.jsx)("span",{className:l.placeholder,children:"0"})},`${t}-${r}`)}))},t)))}),(0,o.jsxs)("div",{className:l.sidePanel,children:[(0,o.jsxs)("div",{className:l.numpad,children:[Array.from({length:9},((e,t)=>t+1)).map((e=>(0,o.jsx)("button",{onClick:()=>F(e),className:l.numpadBtn,children:x?`\u270f\ufe0f ${e}`:e},e))),(0,o.jsx)("button",{onClick:R,className:`${l.numpadBtn} ${l.wide}`,children:"\u232b Clear"}),(0,o.jsx)("button",{onClick:()=>{W&&z?(alert("\ud83c\udf89 Puzzle complete! Great job."),C(!0)):W&&!z?alert("Filled but incorrect \u2014 check red conflicts or use a hint."):alert("Keep going \u2014 there are still empty cells.")},className:`${l.primaryBtn} ${l.wide}`,children:"\u2705 Check Progress"})]}),(0,o.jsxs)("div",{className:l.legend,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:`${l.legendSwatch} ${l.swatchGiven}`})," ","Given cell"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:`${l.legendSwatch} ${l.swatchSame}`})," ","Same number"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:`${l.legendSwatch} ${l.swatchPeer}`})," ","Same row/col/box"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:`${l.legendSwatch} ${l.swatchConflict}`,children:"x"})," ","Conflict"]})]}),(0,o.jsx)("div",{className:l.statusBox,children:(0,o.jsxs)("div",{className:l.statusRow,children:[(0,o.jsx)("span",{children:"Status:"}),(0,o.jsx)("span",{className:W?z?l.solved:l.filledWrong:l.inProgress,children:W?z?"Solved":"Filled but incorrect":"In progress"})]})})]})]}),(0,o.jsx)("div",{className:l.footerNote,children:"Pro tip: Use \u270f\ufe0f pencil mode to jot candidates; press Enter to toggle quickly."})]})}}}]);
//# sourceMappingURL=7414.7a2a339a.chunk.js.map