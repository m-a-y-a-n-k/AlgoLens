"use strict";(self.webpackChunkAlgoLens=self.webpackChunkAlgoLens||[]).push([[5565],{5565:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var n=t(2791);const i="KruskalVisualizer_container__X6lXm",r="KruskalVisualizer_title__58Lwi",l="KruskalVisualizer_controls__ygtTV",a="KruskalVisualizer_main__9-rR7",d="KruskalVisualizer_canvas__8om34",c="KruskalVisualizer_side__8FTyT",u="KruskalVisualizer_panel__ZFnAq",o="KruskalVisualizer_edgeLabel__1DOWy",h="KruskalVisualizer_nodeLabel__fvmd-",x="KruskalVisualizer_nodeGroup__xVRAo",g="KruskalVisualizer_logBox__n6POY",f="KruskalVisualizer_logItem__uirfX",m="KruskalVisualizer_dsuBox__aEdKB",p="KruskalVisualizer_total__+IP7b";var v=t(184);function j(e,s){const t=(0,n.useMemo)((()=>[...s].sort(((e,s)=>e.weight-s.weight))),[s]);function i(e,s){return e[s]!==s&&(e[s]=i(e,e[s])),e[s]}function r(e){if(e.stepIndex>=t.length)return{...e,status:"finished"};const s=t[e.stepIndex],{u:n,v:r}=s,l={...e.dsu.parent},a={...e.dsu.rank},d=i(l,n)===i(l,r);let c=[...e.acceptedEdges],u=[...e.rejectedEdges],o=[...e.logs];return d?(u.push(s),o.push(`Rejected edge ${n}\u2013${r} (w=${s.weight}) \u2014 would form cycle`)):(!function(e,s,t,n){let r=i(e,t),l=i(e,n);r!==l&&(s[r]<s[l]?e[r]=l:s[r]>s[l]?e[l]=r:(e[l]=r,s[r]+=1))}(l,a,n,r),c.push(s),o.push(`Accepted edge ${n}\u2013${r} (w=${s.weight})`)),{...e,stepIndex:e.stepIndex+1,acceptedEdges:c,rejectedEdges:u,dsu:{parent:l,rank:a},logs:o,status:e.stepIndex+1>=t.length?"finished":"running"}}return{init:function(){return{stepIndex:0,acceptedEdges:[],rejectedEdges:[],dsu:function(e){const s={},t={};return e.forEach((e=>{s[e]=e,t[e]=0})),{parent:s,rank:t}}(e),status:"idle",logs:[]}},step:r,runAll:function(e){let s={...e};for(;s.stepIndex<t.length;)s=r(s);return s},sortedEdges:t}}function _(){const[e,s]=(0,n.useState)(["A","B","C","D"]),[t,_]=(0,n.useState)([{id:"e1",u:"A",v:"B",weight:3},{id:"e2",u:"A",v:"C",weight:1},{id:"e3",u:"B",v:"C",weight:7},{id:"e4",u:"B",v:"D",weight:5},{id:"e5",u:"C",v:"D",weight:2}]),{init:y,step:k,runAll:w,sortedEdges:E}=j(e,t),[N,b]=(0,n.useState)((()=>y())),[A,V]=(0,n.useState)((()=>{const s={},t=2*Math.PI/e.length;return e.forEach(((e,n)=>{s[e]={x:300+150*Math.cos(n*t),y:150+100*Math.sin(n*t),vx:0,vy:0}})),s}));(0,n.useEffect)((()=>{V((s=>{const t={...s},n=2*Math.PI/e.length;return e.forEach(((e,s)=>{t[e]||(t[e]={x:300+150*Math.cos(s*n),y:150+100*Math.sin(s*n),vx:0,vy:0})})),Object.keys(t).forEach((s=>{e.includes(s)||delete t[s]})),t}))}),[e]);const K=(0,n.useRef)(null);(0,n.useEffect)((()=>{let e=!0;return K.current=requestAnimationFrame((function s(){V((e=>{const s={...e},n=Object.keys(s);for(let t=0;t<n.length;t++)for(let e=t+1;e<n.length;e++){const i=s[n[t]],r=s[n[e]];let l=i.x-r.x,a=i.y-r.y,d=Math.sqrt(l*l+a*a)||1;const c=800/(d*d),u=l/d*c,o=a/d*c;i.vx+=u,i.vy+=o,r.vx-=u,r.vy-=o}return t.forEach((e=>{const t=s[e.u],n=s[e.v];if(!t||!n)return;let i=n.x-t.x,r=n.y-t.y,l=Math.sqrt(i*i+r*r)||1;const a=l-120,d=i/l*a*.02,c=r/l*a*.02;t.vx+=d,t.vy+=c,n.vx-=d,n.vy-=c})),n.forEach((e=>{s[e].vx*=.85,s[e].vy*=.85,s[e].x+=s[e].vx,s[e].y+=s[e].vy,s[e].x=Math.max(30,Math.min(570,s[e].x)),s[e].y=Math.max(30,Math.min(320,s[e].y))})),s})),e&&(K.current=requestAnimationFrame(s))})),()=>{e=!1,cancelAnimationFrame(K.current)}}),[t]),(0,n.useEffect)((()=>{b((()=>y()))}),[e,t]);const M=new Set(N.acceptedEdges.map((e=>e.id))),z=new Set(N.rejectedEdges.map((e=>e.id))),I=E[N.stepIndex];return(0,v.jsxs)("div",{className:i,children:[(0,v.jsx)("h2",{className:r,children:"Kruskal's MST Visualizer \ud83e\udea2"}),(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)("button",{onClick:function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let n="X";for(let s=0;s<t.length;s++)if(!e.includes(t[s])){n=t[s];break}e.length>=26&&(n=`N${e.length}`),s((e=>[...e,n]))},children:"\u2795 Add Node"}),(0,v.jsx)("button",{onClick:function(){const s=prompt("From node (id):"),n=prompt("To node (id):"),i=Number(prompt("Weight (number):"));if(!s||!n||isNaN(i))return alert("Invalid input");if(!e.includes(s)||!e.includes(n))return alert("Unknown nodes");const r=`e${t.length+1}`;_((e=>[...e,{id:r,u:s,v:n,weight:i}]))},children:"\u2795 Add Edge"}),(0,v.jsx)("button",{onClick:function(){b((e=>k(e)))},children:"\u23ed Step"}),(0,v.jsx)("button",{onClick:function(){b((e=>w(e)))},children:"\u25b6 Run All"}),(0,v.jsx)("button",{onClick:function(){b(y())},children:"\u27f2 Reset"})]}),(0,v.jsxs)("div",{className:a,children:[(0,v.jsxs)("svg",{className:d,viewBox:"0 0 600 360",children:[t.map((e=>{const s=A[e.u],t=A[e.v];if(!s||!t)return null;const n=M.has(e.id),i=z.has(e.id),r=I&&I.id===e.id;return(0,v.jsxs)("g",{children:[(0,v.jsx)("line",{x1:s.x,y1:s.y,x2:t.x,y2:t.y,stroke:n?"#2b8a3e":i?"#d9534f":r?"#f0ad4e":"#aaa",strokeWidth:n?4:r?3.5:2,opacity:i?.6:1}),(0,v.jsx)("text",{x:(s.x+t.x)/2+6,y:(s.y+t.y)/2-6,className:o,children:e.weight})]},e.id)})),N.acceptedEdges.map((e=>{const s=A[e.u],t=A[e.v];return s&&t?(0,v.jsx)("line",{x1:s.x,y1:s.y,x2:t.x,y2:t.y,stroke:"#2b8a3e",strokeWidth:4,opacity:.4},`acc-${e.id}`):null})),e.map((e=>{var s;const t=A[e]||{x:300,y:150};null!==(s=N.dsu)&&void 0!==s&&s.parent&&function(){let s=N.dsu.parent,t=e;for(;s[t]!==t;)t=s[t]}();return(0,v.jsxs)("g",{className:x,transform:`translate(${t.x}, ${t.y})`,children:[(0,v.jsx)("circle",{r:18,fill:"#fff",stroke:"#333",strokeWidth:2}),(0,v.jsx)("text",{textAnchor:"middle",dominantBaseline:"central",className:h,children:e})]},e)}))]}),(0,v.jsxs)("div",{className:c,children:[(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("h4",{children:"Sorted Edges"}),(0,v.jsx)("ol",{children:E.map((e=>(0,v.jsxs)("li",{style:{marginBottom:6},children:[(0,v.jsxs)("strong",{style:{color:M.has(e.id)?"#2b8a3e":z.has(e.id)?"#d9534f":"#333"},children:[e.u,"\u2013",e.v]})," ","(w=",e.weight,")"," ",I&&I.id===e.id?" \u2190 next":""]},e.id)))})]}),(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("h4",{children:"MST Edges"}),(0,v.jsx)("ul",{children:N.acceptedEdges.map((e=>(0,v.jsxs)("li",{children:[e.u,"\u2013",e.v," (w=",e.weight,")"]},e.id)))}),(0,v.jsxs)("div",{className:p,children:["Total weight:"," ",N.acceptedEdges.reduce(((e,s)=>e+s.weight),0)]})]}),(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("h4",{children:"DSU Parent Map"}),(0,v.jsx)("pre",{className:m,children:N.dsu?JSON.stringify(N.dsu.parent,null,2):"{}"})]}),(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("h4",{children:"Logs"}),(0,v.jsx)("div",{className:g,children:N.logs.map(((e,s)=>(0,v.jsx)("div",{className:f,children:e},s)))})]})]})]})]})}}}]);
//# sourceMappingURL=5565.ebf1a41b.chunk.js.map