{"version":3,"file":"static/js/8589.411b0575.chunk.js","mappings":"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","sources":["routing/site/physics/components/FluidRipple/FluidRipple.jsx","routing/site/physics/components/FluidRipple/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\"\r\nimport styled from \"styled-components\"\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background: #1e293b;\r\n  padding: 30px;\r\n  border-radius: 20px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\r\n  max-width: 900px;\r\n  width: 100%;\r\n`\r\n\r\nconst CanvasContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  aspect-ratio: 1;\r\n  background: black;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  cursor: crosshair;\r\n  border: 1px solid #334155;\r\n`\r\n\r\nconst Canvas = styled.canvas`\r\n  width: 100%;\r\n  height: 100%;\r\n  image-rendering: pixelated;\r\n`\r\n\r\nconst Controls = styled.div`\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`\r\n\r\nconst ControlItem = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n  color: #94a3b8;\r\n  font-size: 0.9rem;\r\n`\r\n\r\nconst Slider = styled.input`\r\n  width: 150px;\r\n`\r\n\r\nconst Instructions = styled.p`\r\n  color: #64748b;\r\n  margin-top: 15px;\r\n  font-size: 0.9rem;\r\n  text-align: center;\r\n`\r\n\r\nconst FluidRipple = () => {\r\n  const canvasRef = useRef(null)\r\n  const [damping, setDamping] = useState(0.98)\r\n  const [resolution, setResolution] = useState(200)\r\n\r\n  const stateRef = useRef({\r\n    cols: 0,\r\n    rows: 0,\r\n    current: [],\r\n    previous: [],\r\n    animationId: null,\r\n  })\r\n\r\n  const initGrid = useCallback(() => {\r\n    const cols = resolution\r\n    const rows = resolution\r\n    stateRef.current.cols = cols\r\n    stateRef.current.rows = rows\r\n    stateRef.current.current = new Float32Array(cols * rows).fill(0)\r\n    stateRef.current.previous = new Float32Array(cols * rows).fill(0)\r\n\r\n    const canvas = canvasRef.current\r\n    if (canvas) {\r\n      canvas.width = cols\r\n      canvas.height = rows\r\n    }\r\n  }, [resolution])\r\n\r\n  useEffect(() => {\r\n    initGrid()\r\n  }, [initGrid])\r\n\r\n  const draw = useCallback(() => {\r\n    const { cols, rows, current, previous } = stateRef.current\r\n    const canvas = canvasRef.current\r\n    if (!canvas) return\r\n    const ctx = canvas.getContext(\"2d\")\r\n    const imgData = ctx.createImageData(cols, rows)\r\n\r\n    for (let i = 1; i < cols - 1; i++) {\r\n      for (let j = 1; j < rows - 1; j++) {\r\n        const idx = i + j * cols\r\n        // Wave equation\r\n        const sum =\r\n          previous[idx - 1] +\r\n          previous[idx + 1] +\r\n          previous[idx - cols] +\r\n          previous[idx + cols]\r\n        current[idx] = sum / 2 - current[idx]\r\n        current[idx] *= damping\r\n\r\n        // Map value to color (pixel data is [R, G, B, A])\r\n        const pos = idx * 4\r\n        const val = current[idx]\r\n\r\n        // Base color is a deep ocean blue\r\n        // Ripples add brightness and a touch of cyan\r\n        const brightness = Math.max(0, Math.min(255, 128 + val * 2))\r\n\r\n        imgData.data[pos] = brightness * 0.1 // Slight red\r\n        imgData.data[pos + 1] = brightness * 0.6 // More green\r\n        imgData.data[pos + 2] = brightness // Full blue\r\n        imgData.data[pos + 3] = 255 // Alpha\r\n      }\r\n    }\r\n\r\n    ctx.putImageData(imgData, 0, 0)\r\n\r\n    // Swap buffers\r\n    const temp = stateRef.current.previous\r\n    stateRef.current.previous = stateRef.current.current\r\n    stateRef.current.current = temp\r\n  }, [damping])\r\n\r\n  useEffect(() => {\r\n    const animate = () => {\r\n      draw()\r\n      stateRef.current.animationId = requestAnimationFrame(animate)\r\n    }\r\n    stateRef.current.animationId = requestAnimationFrame(animate)\r\n    return () => cancelAnimationFrame(stateRef.current.animationId)\r\n  }, [draw])\r\n\r\n  const handleInteraction = (e) => {\r\n    const canvas = canvasRef.current\r\n    const rect = canvas.getBoundingClientRect()\r\n    const x = Math.floor(\r\n      ((e.clientX - rect.left) / rect.width) * stateRef.current.cols\r\n    )\r\n    const y = Math.floor(\r\n      ((e.clientY - rect.top) / rect.height) * stateRef.current.rows\r\n    )\r\n\r\n    if (\r\n      x > 0 &&\r\n      x < stateRef.current.cols - 1 &&\r\n      y > 0 &&\r\n      y < stateRef.current.rows - 1\r\n    ) {\r\n      stateRef.current.previous[x + y * stateRef.current.cols] = 512\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <CanvasContainer\r\n        onMouseMove={(e) => e.buttons === 1 && handleInteraction(e)}\r\n        onMouseDown={handleInteraction}\r\n      >\r\n        <Canvas ref={canvasRef} />\r\n      </CanvasContainer>\r\n\r\n      <Controls>\r\n        <ControlItem>\r\n          <label>Damping: {damping.toFixed(3)}</label>\r\n          <Slider\r\n            type=\"range\"\r\n            min=\"0.9\"\r\n            max=\"0.999\"\r\n            step=\"0.001\"\r\n            value={damping}\r\n            onChange={(e) => setDamping(parseFloat(e.target.value))}\r\n          />\r\n        </ControlItem>\r\n        <ControlItem>\r\n          <label>Resolution: {resolution}</label>\r\n          <Slider\r\n            type=\"range\"\r\n            min=\"100\"\r\n            max=\"400\"\r\n            step=\"50\"\r\n            value={resolution}\r\n            onChange={(e) => setResolution(parseInt(e.target.value))}\r\n          />\r\n        </ControlItem>\r\n      </Controls>\r\n\r\n      <Instructions>\r\n        Click or drag on the water to create ripples. Adjust damping to change\r\n        how long ripples last.\r\n      </Instructions>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default FluidRipple\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport FluidRipple from \"./FluidRipple\"\r\n\r\nconst MainContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 20px;\r\n  background-color: #0f172a;\r\n  min-height: 100vh;\r\n  color: white;\r\n`\r\n\r\nconst Heading = styled.h1`\r\n  font-size: 2.5rem;\r\n  color: #fff;\r\n  margin-bottom: 20px;\r\n  text-shadow: 0 0 10px rgba(59, 130, 246, 0.5);\r\n`\r\n\r\nfunction Main() {\r\n  return (\r\n    <MainContainer>\r\n      <Heading>Fluid Ripple Simulation</Heading>\r\n      <FluidRipple />\r\n    </MainContainer>\r\n  )\r\n}\r\n\r\nexport default Main\r\n"],"names":["Container","styled","CanvasContainer","Canvas","Controls","ControlItem","Slider","Instructions","FluidRipple","canvasRef","useRef","damping","setDamping","useState","resolution","setResolution","stateRef","cols","rows","current","previous","animationId","initGrid","useCallback","Float32Array","fill","canvas","width","height","useEffect","draw","ctx","getContext","imgData","createImageData","i","j","idx","sum","pos","val","brightness","Math","max","min","data","putImageData","temp","animate","requestAnimationFrame","cancelAnimationFrame","handleInteraction","e","rect","getBoundingClientRect","x","floor","clientX","left","y","clientY","top","_jsxs","children","_jsx","onMouseMove","buttons","onMouseDown","ref","toFixed","type","step","value","onChange","parseFloat","target","parseInt","MainContainer","Heading"],"sourceRoot":""}