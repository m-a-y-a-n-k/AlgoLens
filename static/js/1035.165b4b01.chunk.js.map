{"version":3,"file":"static/js/1035.165b4b01.chunk.js","mappings":"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","sources":["webpack://AlgoLens/./src/routing/site/games/components/MatchTiles/MatchTiles.module.css?2a6f","routing/site/games/components/MatchTiles/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MatchTiles_container__j1Ldn\",\"controls\":\"MatchTiles_controls__F5acC\",\"grid\":\"MatchTiles_grid__JbA2t\",\"tile\":\"MatchTiles_tile__FE6cc\",\"flipped\":\"MatchTiles_flipped__DEGBT\",\"inner\":\"MatchTiles_inner__p9AeH\",\"front\":\"MatchTiles_front__4y1UV\",\"back\":\"MatchTiles_back__Y3PIN\"};","import React, { useEffect, useState } from \"react\"\r\nimport styles from \"./MatchTiles.module.css\"\r\n\r\n// Utility: generate pairs and shuffle\r\nconst generateTiles = (n) => {\r\n  const totalTiles = n * n\r\n  // Ensure even total (we should only allow even totals). If odd, throw to catch bugs.\r\n  if (totalTiles % 2 !== 0) {\r\n    throw new Error(\r\n      \"Grid must have an even number of tiles to form pairs. Choose an even N.\"\r\n    )\r\n  }\r\n\r\n  const values = []\r\n  for (let i = 1; i <= totalTiles / 2; i++) {\r\n    values.push(i)\r\n    values.push(i)\r\n  }\r\n\r\n  // Fisher-Yates shuffle\r\n  for (let i = values.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1))\r\n    ;[values[i], values[j]] = [values[j], values[i]]\r\n  }\r\n\r\n  return values.map((val, idx) => ({\r\n    id: idx,\r\n    value: val,\r\n    flipped: false,\r\n    matched: false,\r\n  }))\r\n}\r\n\r\nconst sanitizeN = (val) => {\r\n  let num = Number(val) || 2\r\n  if (num < 2) num = 2\r\n  if (num > 8) num = 8\r\n  // ensure an even grid (n must be even so n*n is even)\r\n  if (num % 2 !== 0) num = num + 1\r\n  return num\r\n}\r\n\r\nexport default function MatchTiles() {\r\n  const [n, setN] = useState(4)\r\n  const [tiles, setTiles] = useState(() => generateTiles(4))\r\n  const [busy, setBusy] = useState(false)\r\n\r\n  // regenerate tiles whenever n changes\r\n  useEffect(() => {\r\n    setTiles(generateTiles(n))\r\n    setBusy(false)\r\n  }, [n])\r\n\r\n  const handleTileClick = (id) => {\r\n    if (busy) return // ignore clicks while resolving a pair\r\n\r\n    setTiles((prev) => {\r\n      const clicked = prev.find((t) => t.id === id)\r\n      if (!clicked || clicked.flipped || clicked.matched) return prev\r\n\r\n      const newTiles = prev.map((t) =>\r\n        t.id === id ? { ...t, flipped: true } : t\r\n      )\r\n\r\n      const open = newTiles.filter((t) => t.flipped && !t.matched)\r\n      if (open.length === 2) {\r\n        setBusy(true)\r\n        if (open[0].value === open[1].value) {\r\n          // matched\r\n          setTimeout(() => {\r\n            setTiles((curr) =>\r\n              curr.map((t) =>\r\n                t.id === open[0].id || t.id === open[1].id\r\n                  ? { ...t, matched: true }\r\n                  : t\r\n              )\r\n            )\r\n            setBusy(false)\r\n          }, 500)\r\n        } else {\r\n          // not a match\r\n          setTimeout(() => {\r\n            setTiles((curr) =>\r\n              curr.map((t) =>\r\n                t.id === open[0].id || t.id === open[1].id\r\n                  ? { ...t, flipped: false }\r\n                  : t\r\n              )\r\n            )\r\n            setBusy(false)\r\n          }, 800)\r\n        }\r\n      }\r\n\r\n      return newTiles\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.controls}>\r\n        <label htmlFor=\"grid-size\">Grid Size (N):</label>\r\n        <input\r\n          id=\"grid-size\"\r\n          type=\"number\"\r\n          min=\"2\"\r\n          max=\"8\"\r\n          value={n}\r\n          onChange={(e) => setN(sanitizeN(e.target.value))}\r\n        />\r\n      </div>\r\n\r\n      <div\r\n        className={styles.grid}\r\n        style={{ gridTemplateColumns: `repeat(${n}, 1fr)` }}\r\n      >\r\n        {tiles.map((tile) => (\r\n          <div\r\n            key={tile.id}\r\n            className={`${styles.tile} ${\r\n              tile.flipped || tile.matched ? styles.flipped : \"\"\r\n            }`}\r\n          >\r\n            {/* Use a button that perfectly covers the tile area so clicks don't \"fall through\" to other elements */}\r\n            <button\r\n              type=\"button\"\r\n              className={styles.inner}\r\n              onClick={() => handleTileClick(tile.id)}\r\n              aria-pressed={tile.flipped || tile.matched}\r\n            >\r\n              <div className={styles.front}>?</div>\r\n              <div className={styles.back}>{tile.value}</div>\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["generateTiles","n","totalTiles","Error","values","i","push","length","j","Math","floor","random","map","val","idx","id","value","flipped","matched","MatchTiles","setN","useState","tiles","setTiles","busy","setBusy","useEffect","_jsxs","className","styles","children","_jsx","htmlFor","type","min","max","onChange","e","num","Number","sanitizeN","target","style","gridTemplateColumns","tile","onClick","handleTileClick","prev","clicked","find","t","newTiles","open","filter","setTimeout","curr"],"sourceRoot":""}