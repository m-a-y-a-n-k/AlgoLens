"use strict";(self.webpackChunkAlgoLens=self.webpackChunkAlgoLens||[]).push([[7439],{5699:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(2791);function l(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function i(){const[e,t]=(0,s.useState)((()=>l()));return(0,s.useEffect)((()=>{function e(){t(l())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}},7439:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var s=n(2791);const l=e=>{const t=(0,s.useCallback)(((t,n)=>{if(!e)return;const s=e.getContext("2d");s.fillStyle="#ff2626",s.beginPath(),s.arc(t,n,3,0,2*Math.PI,!0),s.fill(),s.font="15px Arial",s.fillText(`( ${t} , ${n} )`,t+6,n+6)}),[e,3]);return{draw:(0,s.useCallback)((n=>{if(!e)return;const s=e.getBoundingClientRect(),l=n.clientX-s.left,i=n.clientY-s.top;t(l,i)}),[e,t])}};var i=n(184);const r=e=>{let{id:t,width:n,height:r,clickable:c,addPoints:a}=e;const o=(0,s.useRef)(null),{draw:d}=l(o.current);return(0,s.useEffect)((()=>{const e=o.current;if(!e)return;const t=t=>{if(c){d(t);const n=e.getBoundingClientRect(),s=t.clientX-n.left,l=t.clientY-n.top;a({x:s,y:l})}};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}),[c,d,a]),(0,i.jsx)("canvas",{id:t,ref:o,width:n,height:r,style:{border:"1px solid lightgray",background:"rgba(123,178,91,0.3)"}})},c=e=>{const t=(0,s.useRef)([]),[n,l]=(0,s.useState)("Slow"),[,r]=(0,s.useState)(0);(0,s.useEffect)((()=>{r(t.current.offsetWidth)}),[]);return(0,i.jsxs)("div",{className:"card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h5",{className:"card-title",children:"Closest Pair of Points"}),(0,i.jsx)("p",{className:"card-subheader",children:"Pair connected by red dash lines"})]}),(0,i.jsxs)("div",{className:"card-actions",children:[(0,i.jsxs)("div",{className:"form-control",children:[(0,i.jsx)("label",{htmlFor:"speed-select",ref:t,children:"Speed"}),(0,i.jsxs)("select",{id:"speed-select",value:n,onChange:e=>{l(e.target.value)},className:"select",children:[(0,i.jsx)("option",{value:"Slow",children:"Slow"}),(0,i.jsx)("option",{value:"Fast",children:"Fast"})]})]}),(0,i.jsx)("button",{className:"run-button",onClick:()=>{e.find(n)},children:"Run"})]})]})};var a=n(5095),o=n(5699);const d=()=>{const[e,t]=(0,s.useState)([]),[n,l]=(0,s.useState)(!0),[d,h]=(0,s.useState)(null),u=(0,s.useRef)(null),{width:f}=(0,o.Z)(),x=(0,s.useCallback)((()=>{const e=u.current;if(!e)return;e.getContext("2d").clearRect(0,0,e.width,e.height)}),[]),g=(0,s.useCallback)((()=>{const t=u.current;if(!t)return;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#ff2626",e.forEach((e=>{n.beginPath(),n.arc(e.x,e.y,3,0,2*Math.PI,!0),n.fill(),n.font="15px Arial",n.fillText(`( ${e.x} , ${e.y} )`,e.x+6,e.y+6)}))}),[e]),y=(0,s.useCallback)(((e,t,n)=>{const s=u.current;if(!s)return;const l=s.getContext("2d");l.strokeStyle=n,l.setLineDash([2,2]),l.beginPath(),l.moveTo(e.x,e.y),l.lineTo(t.x,t.y),l.stroke()}),[]),p=(0,s.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#0000ff";const n=u.current;if(!n)return;const s=n.getContext("2d");s.strokeStyle=t,s.setLineDash([5,5]),s.lineWidth=2,s.beginPath(),s.moveTo(e,0),s.lineTo(e,n.height),s.stroke(),s.lineWidth=1,s.setLineDash([2,2])}),[]),v=(0,s.useCallback)((function(t,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t>=e.length-1)return x(),g(),s&&y(s.start,s.end,"#ff2626"),void l(!0);if(n>=e.length)return void setTimeout((()=>v(t+1,t+2,s)),2e3);x(),g(),y(e[t],e[n],"#000000");const i=(e[n].x-e[t].x)**2+(e[n].y-e[t].y)**2;(!s||i<s.length)&&(s={start:{x:e[t].x,y:e[t].y},end:{x:e[n].x,y:e[n].y},length:i}),s&&y(s.start,s.end,"#ff2626"),setTimeout((()=>v(t,n+1,s)),1200)}),[e,y,x,g]),w=(0,s.useCallback)(((e,t)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)),[]),b=(0,s.useCallback)((e=>{let t=1/0,n=null;const s=e.length;for(let l=0;l<s;l++)for(let i=l+1;i<s;i++){const s=w(e[l],e[i]);s<t&&(t=s,n={start:e[l],end:e[i],length:t})}return n}),[w]),m=(0,s.useCallback)(((e,t,n)=>{let s=t,l=n;e.sort(((e,t)=>e.y-t.y));for(let i=0;i<e.length;i++)for(let t=i+1;t<e.length&&e[t].y-e[i].y<s;t++){const n=w(e[i],e[t]);n<s&&(s=n,l={start:e[i],end:e[t],length:s})}return l}),[w]),C=(0,s.useCallback)((async(e,t)=>{const n=e.length;if(n<=3)return b(e);const s=Math.floor(n/2),l=e[s];t.push({type:"divide",midX:l.x,left:e.slice(0,s),right:e.slice(s)});const i=await C(e.slice(0,s),t),r=await C(e.slice(s),t);let c=i;r&&(!i||r.length<i.length)&&(c=r);const a=c?c.length:1/0,o=e.filter((e=>Math.abs(e.x-l.x)<a));t.push({type:"strip",midX:l.x,strip:o,currentBest:c,stripWidth:a});return m(o,a,c)||c}),[b,m]),k=(0,s.useCallback)((async()=>{const t=[...e].sort(((e,t)=>e.x-t.x)),n=[],s=await C(t,n);let i=0;const r=()=>{if(i>=n.length)return x(),g(),s&&y(s.start,s.end,"#ff2626"),void l(!0);const e=n[i];x(),g(),"divide"===e.type?p(e.midX,"#0000ff"):"strip"===e.type&&(p(e.midX,"#0000ff"),e.stripWidth&&e.stripWidth!==1/0&&(p(e.midX-e.stripWidth,"#00ff00"),p(e.midX+e.stripWidth,"#00ff00")),e.currentBest&&y(e.currentBest.start,e.currentBest.end,"#ff6600")),i++,setTimeout(r,600)};r()}),[e,C,x,g,y,p]),j=(0,s.useCallback)((t=>{e.length<2?h({text:"Not enough points on canvas",type:"info"}):"slow"===t.toLowerCase()?(l(!1),h(null),v(0,1)):"fast"===t.toLowerCase()&&(l(!1),h(null),k())}),[e,v,k]);return(0,s.useEffect)((()=>{u.current=document.getElementById("pointsCanvas")}),[]),(0,s.useEffect)((()=>{g()}),[e]),(0,i.jsx)("div",{style:{width:"100%"},children:(0,i.jsxs)("div",{style:{width:"100%"},children:[(0,i.jsxs)("div",{className:"mt-2",style:{width:"100%"},children:[d&&(0,i.jsx)(a.Z,{color:d.type,isOpen:!!d.text,toggle:()=>h(null),children:d.text}),(0,i.jsx)(c,{find:j})]}),(0,i.jsxs)("div",{className:"m-2",style:{width:"100%"},children:[(0,i.jsx)("h3",{className:"p-2",children:"Click in the canvas below to draw points"}),(0,i.jsx)(r,{id:"pointsCanvas",clickable:n,width:""+(f-48),height:"400",addPoints:e=>{n&&t((t=>[...t,e]))}})]})]})})}}}]);
//# sourceMappingURL=7439.886ed7c9.chunk.js.map