"use strict";(self.webpackChunkAlgoLens=self.webpackChunkAlgoLens||[]).push([[7439],{5699:(t,e,n)=>{n.d(e,{Z:()=>i});var s=n(2791);function l(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}function i(){const[t,e]=(0,s.useState)((()=>l()));return(0,s.useEffect)((()=>{function t(){e(l())}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),t}},7439:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var s=n(2791);const l=t=>{const e=(0,s.useCallback)(((e,n)=>{if(!t)return;const s=t.getContext("2d");s.fillStyle="#ff2626",s.beginPath(),s.arc(e,n,3,0,2*Math.PI,!0),s.fill(),s.font="15px Arial",s.fillText("( ".concat(e," , ").concat(n," )"),e+6,n+6)}),[t,3]);return{draw:(0,s.useCallback)((n=>{if(!t)return;const s=t.getBoundingClientRect(),l=n.clientX-s.left,i=n.clientY-s.top;e(l,i)}),[t,e])}};var i=n(184);const r=t=>{let{id:e,width:n,height:r,clickable:c,addPoints:a}=t;const o=(0,s.useRef)(null),{draw:d}=l(o.current);return(0,s.useEffect)((()=>{const t=o.current;if(!t)return;const e=e=>{if(c){d(e);const n=t.getBoundingClientRect(),s=e.clientX-n.left,l=e.clientY-n.top;a({x:s,y:l})}};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}),[c,d,a]),(0,i.jsx)("canvas",{id:e,ref:o,width:n,height:r,style:{border:"1px solid lightgray",background:"rgba(123,178,91,0.3)"}})},c=t=>{const e=(0,s.useRef)([]),[n,l]=(0,s.useState)("Slow"),[,r]=(0,s.useState)(0);(0,s.useEffect)((()=>{r(e.current.offsetWidth)}),[]);return(0,i.jsxs)("div",{className:"card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h5",{className:"card-title",children:"Closest Pair of Points"}),(0,i.jsx)("p",{className:"card-subheader",children:"Pair connected by red dash lines"})]}),(0,i.jsxs)("div",{className:"card-actions",children:[(0,i.jsxs)("div",{className:"form-control",children:[(0,i.jsx)("label",{htmlFor:"speed-select",ref:e,children:"Speed"}),(0,i.jsxs)("select",{id:"speed-select",value:n,onChange:t=>{l(t.target.value)},className:"select",children:[(0,i.jsx)("option",{value:"Slow",children:"Slow"}),(0,i.jsx)("option",{value:"Fast",children:"Fast"})]})]}),(0,i.jsx)("button",{className:"run-button",onClick:()=>{t.find(n)},children:"Run"})]})]})};var a=n(5095),o=n(5699);const d=()=>{const[t,e]=(0,s.useState)([]),[n,l]=(0,s.useState)(!0),[d,h]=(0,s.useState)(null),u=(0,s.useRef)(null),{width:f}=(0,o.Z)(),x=(0,s.useCallback)((()=>{const t=u.current;if(!t)return;t.getContext("2d").clearRect(0,0,t.width,t.height)}),[]),g=(0,s.useCallback)((()=>{const e=u.current;if(!e)return;const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#ff2626",t.forEach((t=>{n.beginPath(),n.arc(t.x,t.y,3,0,2*Math.PI,!0),n.fill(),n.font="15px Arial",n.fillText("( ".concat(t.x," , ").concat(t.y," )"),t.x+6,t.y+6)}))}),[t]),y=(0,s.useCallback)(((t,e,n)=>{const s=u.current;if(!s)return;const l=s.getContext("2d");l.strokeStyle=n,l.setLineDash([2,2]),l.beginPath(),l.moveTo(t.x,t.y),l.lineTo(e.x,e.y),l.stroke()}),[]),p=(0,s.useCallback)((function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#0000ff";const n=u.current;if(!n)return;const s=n.getContext("2d");s.strokeStyle=e,s.setLineDash([5,5]),s.lineWidth=2,s.beginPath(),s.moveTo(t,0),s.lineTo(t,n.height),s.stroke(),s.lineWidth=1,s.setLineDash([2,2])}),[]),v=(0,s.useCallback)((function(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e>=t.length-1)return x(),g(),s&&y(s.start,s.end,"#ff2626"),void l(!0);if(n>=t.length)return void setTimeout((()=>v(e+1,e+2,s)),2e3);x(),g(),y(t[e],t[n],"#000000");const i=(t[n].x-t[e].x)**2+(t[n].y-t[e].y)**2;(!s||i<s.length)&&(s={start:{x:t[e].x,y:t[e].y},end:{x:t[n].x,y:t[n].y},length:i}),s&&y(s.start,s.end,"#ff2626"),setTimeout((()=>v(e,n+1,s)),1200)}),[t,y,x,g]),w=(0,s.useCallback)(((t,e)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)),[]),b=(0,s.useCallback)((t=>{let e=1/0,n=null;const s=t.length;for(let l=0;l<s;l++)for(let i=l+1;i<s;i++){const s=w(t[l],t[i]);s<e&&(e=s,n={start:t[l],end:t[i],length:e})}return n}),[w]),m=(0,s.useCallback)(((t,e,n)=>{let s=e,l=n;t.sort(((t,e)=>t.y-e.y));for(let i=0;i<t.length;i++)for(let e=i+1;e<t.length&&t[e].y-t[i].y<s;e++){const n=w(t[i],t[e]);n<s&&(s=n,l={start:t[i],end:t[e],length:s})}return l}),[w]),C=(0,s.useCallback)((async(t,e)=>{const n=t.length;if(n<=3)return b(t);const s=Math.floor(n/2),l=t[s];e.push({type:"divide",midX:l.x,left:t.slice(0,s),right:t.slice(s)});const i=await C(t.slice(0,s),e),r=await C(t.slice(s),e);let c=i;r&&(!i||r.length<i.length)&&(c=r);const a=c?c.length:1/0,o=t.filter((t=>Math.abs(t.x-l.x)<a));e.push({type:"strip",midX:l.x,strip:o,currentBest:c,stripWidth:a});return m(o,a,c)||c}),[b,m]),k=(0,s.useCallback)((async()=>{const e=[...t].sort(((t,e)=>t.x-e.x)),n=[],s=await C(e,n);let i=0;const r=()=>{if(i>=n.length)return x(),g(),s&&y(s.start,s.end,"#ff2626"),void l(!0);const t=n[i];x(),g(),"divide"===t.type?p(t.midX,"#0000ff"):"strip"===t.type&&(p(t.midX,"#0000ff"),t.stripWidth&&t.stripWidth!==1/0&&(p(t.midX-t.stripWidth,"#00ff00"),p(t.midX+t.stripWidth,"#00ff00")),t.currentBest&&y(t.currentBest.start,t.currentBest.end,"#ff6600")),i++,setTimeout(r,600)};r()}),[t,C,x,g,y,p]),j=(0,s.useCallback)((e=>{t.length<2?h({text:"Not enough points on canvas",type:"info"}):"slow"===e.toLowerCase()?(l(!1),h(null),v(0,1)):"fast"===e.toLowerCase()&&(l(!1),h(null),k())}),[t,v,k]);return(0,s.useEffect)((()=>{u.current=document.getElementById("pointsCanvas")}),[]),(0,s.useEffect)((()=>{g()}),[t]),(0,i.jsx)("div",{style:{width:"100%"},children:(0,i.jsxs)("div",{style:{width:"100%"},children:[(0,i.jsxs)("div",{className:"mt-2",style:{width:"100%"},children:[d&&(0,i.jsx)(a.Z,{color:d.type,isOpen:!!d.text,toggle:()=>h(null),children:d.text}),(0,i.jsx)(c,{find:j})]}),(0,i.jsxs)("div",{className:"m-2",style:{width:"100%"},children:[(0,i.jsx)("h3",{className:"p-2",children:"Click in the canvas below to draw points"}),(0,i.jsx)(r,{id:"pointsCanvas",clickable:n,width:"".concat(f-48),height:"400",addPoints:t=>{n&&e((e=>[...e,t]))}})]})]})})}}}]);
//# sourceMappingURL=7439.c2a48748.chunk.js.map