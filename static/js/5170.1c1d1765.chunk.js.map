{"version":3,"file":"static/js/5170.1c1d1765.chunk.js","mappings":"mJAEA,MAyGA,EAzGoBA,IAAe,IAAd,KAAEC,GAAMD,EAC3B,MAAME,GAAoBC,EAAAA,EAAAA,cAAaC,IACrC,MAAMC,EAAQC,SAASC,eAAe,YAChCC,EAAUF,SAASC,eAAe,eAQlCE,EAPMJ,EAAMK,WAAW,MACPC,aACpBP,EAAMQ,YAAYC,QAClBT,EAAMQ,YAAYE,QAClB,EACA,GAE0BC,KAC5BP,EAAQQ,UAAa,MAAKP,EAAU,YAAYA,EAAU,YAAYA,EAAU,YAAYA,EAAU,IAAI,GACzG,IAEGQ,GAAWd,EAAAA,EAAAA,cAAae,GACrBA,EACJC,QACC,oCACA,CAACC,EAAGC,EAAGC,EAAGC,IAAM,IAAMF,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,IAE3CC,UAAU,GACVC,MAAM,SACNC,KAAKC,GAAMC,SAASD,EAAG,OACzB,IAEGE,GAAY1B,EAAAA,EAAAA,cAChB,CAAC2B,EAAWC,EAAMC,EAAMC,EAAU5B,KAChC,GAAI0B,EAAO,GAAKA,GAAQ1B,EAAM6B,OAASF,EAAO,GAAKA,GAAQ3B,EAAM8B,OAC/D,OAGF,MAAMC,EAAM/B,EAAMK,WAAW,MAEvBD,EADY2B,EAAIzB,aAAaoB,EAAMC,EAAM,EAAG,GACtBjB,KAE5B,GACEN,EAAU,KAAOwB,EAAS,IAC1BxB,EAAU,KAAOwB,EAAS,IAC1BxB,EAAU,KAAOwB,EAAS,GAE1B,OAGF,MAAMI,EAAMpB,EAASa,GACfQ,EAAeF,EAAIG,gBAAgB,EAAG,GACtCC,EAAeF,EAAavB,KAClCyB,EAAa,GAAKH,EAAI,GACtBG,EAAa,GAAKH,EAAI,GACtBG,EAAa,GAAKH,EAAI,GACtBG,EAAa,GAAK,IAElBJ,EAAIK,aAAaH,EAAcP,EAAMC,GAErCU,YACE,IAAMb,EAAUC,EAAWC,EAAO,EAAGC,EAAMC,EAAU5B,IACrD,IAEFqC,YACE,IAAMb,EAAUC,EAAWC,EAAO,EAAGC,EAAMC,EAAU5B,IACrD,IAEFqC,YACE,IAAMb,EAAUC,EAAWC,EAAMC,EAAO,EAAGC,EAAU5B,IACrD,IAEFqC,YACE,IAAMb,EAAUC,EAAWC,EAAMC,EAAO,EAAGC,EAAU5B,IACrD,GACD,GAEH,CAACY,IAGG0B,GAAoBxC,EAAAA,EAAAA,cACvBC,IACC,MAAM2B,EAAO3B,EAAMQ,YAAYC,QACzBmB,EAAO5B,EAAMQ,YAAYE,QAEzBT,EAAQC,SAASC,eAAe,YAGhCqC,EAFMvC,EAAMK,WAAW,MACPC,aAAaoB,EAAMC,EAAM,EAAG,GACpBjB,KAE9Bc,EAAU5B,EAAM8B,EAAMC,EAAMY,EAAavC,EAAM,GAEjD,CAACJ,EAAM4B,IAGT,OACEgB,EAAAA,EAAAA,KAAA,UACEC,GAAG,WACHZ,MAAM,MACNC,OAAO,MACPY,MAAO,CACLC,OAAQ,YACRC,OAAQ,UACRC,OAAQ,kBAEVC,YAAajD,EACbkD,QAAST,GACD,C","sources":["routing/site/algo/components/FloodFill/CanvasImage.jsx"],"sourcesContent":["import React, { useCallback } from \"react\"\r\n\r\nconst CanvasImage = ({ fill }) => {\r\n  const captureMousePixel = useCallback((event) => {\r\n    const image = document.getElementById(\"cusImage\")\r\n    const details = document.getElementById(\"detailsPane\")\r\n    const ctx = image.getContext(\"2d\")\r\n    const imageData = ctx.getImageData(\r\n      event.nativeEvent.offsetX,\r\n      event.nativeEvent.offsetY,\r\n      1,\r\n      1\r\n    )\r\n    const pixelData = imageData.data\r\n    details.innerHTML = `R: ${pixelData[0]}<br>G: ${pixelData[1]}<br>B: ${pixelData[2]}<br>A: ${pixelData[3]}`\r\n  }, [])\r\n\r\n  const hexToRgb = useCallback((hex) => {\r\n    return hex\r\n      .replace(\r\n        /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,\r\n        (m, r, g, b) => \"#\" + r + r + g + g + b + b\r\n      )\r\n      .substring(1)\r\n      .match(/.{2}/g)\r\n      .map((x) => parseInt(x, 16))\r\n  }, [])\r\n\r\n  const fillPixel = useCallback(\r\n    (fillColor, xPos, yPos, firstRgb, image) => {\r\n      if (xPos < 0 || xPos >= image.width || yPos < 0 || yPos >= image.height) {\r\n        return\r\n      }\r\n\r\n      const ctx = image.getContext(\"2d\")\r\n      const imageData = ctx.getImageData(xPos, yPos, 1, 1)\r\n      const pixelData = imageData.data\r\n\r\n      if (\r\n        pixelData[0] !== firstRgb[0] ||\r\n        pixelData[1] !== firstRgb[1] ||\r\n        pixelData[2] !== firstRgb[2]\r\n      ) {\r\n        return\r\n      }\r\n\r\n      const rgb = hexToRgb(fillColor)\r\n      const newImageData = ctx.createImageData(1, 1)\r\n      const newPixelData = newImageData.data\r\n      newPixelData[0] = rgb[0]\r\n      newPixelData[1] = rgb[1]\r\n      newPixelData[2] = rgb[2]\r\n      newPixelData[3] = 255\r\n\r\n      ctx.putImageData(newImageData, xPos, yPos)\r\n\r\n      setTimeout(\r\n        () => fillPixel(fillColor, xPos + 1, yPos, firstRgb, image),\r\n        20\r\n      )\r\n      setTimeout(\r\n        () => fillPixel(fillColor, xPos - 1, yPos, firstRgb, image),\r\n        20\r\n      )\r\n      setTimeout(\r\n        () => fillPixel(fillColor, xPos, yPos + 1, firstRgb, image),\r\n        20\r\n      )\r\n      setTimeout(\r\n        () => fillPixel(fillColor, xPos, yPos - 1, firstRgb, image),\r\n        20\r\n      )\r\n    },\r\n    [hexToRgb]\r\n  )\r\n\r\n  const handleCanvasClick = useCallback(\r\n    (event) => {\r\n      const xPos = event.nativeEvent.offsetX\r\n      const yPos = event.nativeEvent.offsetY\r\n\r\n      const image = document.getElementById(\"cusImage\")\r\n      const ctx = image.getContext(\"2d\")\r\n      const imageData = ctx.getImageData(xPos, yPos, 1, 1)\r\n      const originalRgb = imageData.data\r\n\r\n      fillPixel(fill, xPos, yPos, originalRgb, image)\r\n    },\r\n    [fill, fillPixel]\r\n  )\r\n\r\n  return (\r\n    <canvas\r\n      id=\"cusImage\"\r\n      width=\"360\"\r\n      height=\"360\"\r\n      style={{\r\n        cursor: \"crosshair\",\r\n        margin: \"5% auto\",\r\n        border: \"1px solid #bbb\",\r\n      }}\r\n      onMouseMove={captureMousePixel}\r\n      onClick={handleCanvasClick}\r\n    ></canvas>\r\n  )\r\n}\r\n\r\nexport default CanvasImage\r\n"],"names":["_ref","fill","captureMousePixel","useCallback","event","image","document","getElementById","details","pixelData","getContext","getImageData","nativeEvent","offsetX","offsetY","data","innerHTML","hexToRgb","hex","replace","m","r","g","b","substring","match","map","x","parseInt","fillPixel","fillColor","xPos","yPos","firstRgb","width","height","ctx","rgb","newImageData","createImageData","newPixelData","putImageData","setTimeout","handleCanvasClick","originalRgb","_jsx","id","style","cursor","margin","border","onMouseMove","onClick"],"sourceRoot":""}