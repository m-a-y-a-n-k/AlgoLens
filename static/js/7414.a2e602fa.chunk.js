"use strict";(self.webpackChunkAlgoLens=self.webpackChunkAlgoLens||[]).push([[7414],{7414:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var o=n(2791);const a={container:"SudokuGame_container__Ywv1T",headerRow:"SudokuGame_headerRow__EfTRB",title:"SudokuGame_title__GFt-c",hint:"SudokuGame_hint__cf9hD",toolbar:"SudokuGame_toolbar__ekc4D",select:"SudokuGame_select__D-DYI",button:"SudokuGame_button__bJq-r",buttonActive:"SudokuGame_buttonActive__JENaL",primaryBtn:"SudokuGame_primaryBtn__W22oJ",timer:"SudokuGame_timer__gNS8q",gameRow:"SudokuGame_gameRow__NAI5a",sidePanel:"SudokuGame_sidePanel__P8uJ1",board:"SudokuGame_board__I10Xa",cell:"SudokuGame_cell__F2a6C",cellFixed:"SudokuGame_cellFixed__cYcbq",cellSelected:"SudokuGame_cellSelected__Hosh8",cellPeer:"SudokuGame_cellPeer__q6WTh",cellSame:"SudokuGame_cellSame__R3g61",cellConflict:"SudokuGame_cellConflict__fY-v5",valFixed:"SudokuGame_valFixed__mN5-S",valUser:"SudokuGame_valUser__G56hE",placeholder:"SudokuGame_placeholder__QD6pW",notesGrid:"SudokuGame_notesGrid__FziGB",note:"SudokuGame_note__Ix8Vl",numpad:"SudokuGame_numpad__hTIOf",numpadBtn:"SudokuGame_numpadBtn__2HGQx",wide:"SudokuGame_wide__pQIJi",legend:"SudokuGame_legend__a79Vw",legendSwatch:"SudokuGame_legendSwatch__UgXHN",swatchGiven:"SudokuGame_swatchGiven__yWV0f",swatchSame:"SudokuGame_swatchSame__EBqaR",swatchPeer:"SudokuGame_swatchPeer__tnz4e",swatchConflict:"SudokuGame_swatchConflict__6pc4o",statusBox:"SudokuGame_statusBox__lbZbp",statusRow:"SudokuGame_statusRow__haMaQ",solved:"SudokuGame_solved__48I-b",filledWrong:"SudokuGame_filledWrong__Xr1Hf",inProgress:"SudokuGame_inProgress__aN2qq",footerNote:"SudokuGame_footerNote__PBet5"};var r=n(184);const c=e=>e.map((e=>[...e])),l=()=>Array.from({length:9},(()=>Array(9).fill(0)));function s(e){const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t}function u(e,t,n,o){if(o<1||o>9)return!1;for(let c=0;c<9;c++){if(e[t][c]===o&&c!==n)return!1;if(e[c][n]===o&&c!==t)return!1}const a=3*Math.floor(t/3),r=3*Math.floor(n/3);for(let c=a;c<a+3;c++)for(let a=r;a<r+3;a++)if(e[c][a]===o&&(c!==t||a!==n))return!1;return!0}function i(e){for(let t=0;t<9;t++)for(let n=0;n<9;n++)if(0===e[t][n])return[t,n];return null}function d(e){const t=i(e);if(!t)return!0;const[n,o]=t;for(const a of s([1,2,3,4,5,6,7,8,9]))if(u(e,n,o,a)){if(e[n][o]=a,d(e))return!0;e[n][o]=0}return!1}function f(){const e=l();return d(e),e}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;function n(e,o){if(o.n>=t)return!0;const a=i(e);if(!a)return o.n+=1,o.n>=t;const[r,c]=a;for(let t=1;t<=9;t++)if(u(e,r,c,t)){if(e[r][c]=t,n(e,o))return!0;e[r][c]=0}return!1}const o=c(e),a={n:0};return n(o,a),a.n}function h(){const[e,t]=(0,o.useState)("Easy"),[n,u]=(0,o.useState)(l()),[i,d]=(0,o.useState)(Array.from({length:9},(()=>Array(9).fill(!1)))),[h,_]=(0,o.useState)(null),[S,k]=(0,o.useState)(null),[p,g]=(0,o.useState)(Array.from({length:9},(()=>Array.from({length:9},(()=>new Set))))),[x,w]=(0,o.useState)(!1),[v,G]=(0,o.useState)([]),[j,b]=(0,o.useState)([]),[N,y]=(0,o.useState)(null),[A,M]=(0,o.useState)(0),[C,E]=(0,o.useState)(!1),P=(0,o.useMemo)((()=>function(e){const t=new Set;for(let n=0;n<9;n++){const o={},a={};for(let t=0;t<9;t++){const r=e[n][t],c=e[t][n];0!==r&&(o[r]||(o[r]=[])).push(t),0!==c&&(a[c]||(a[c]=[])).push(t)}Object.keys(o).forEach((e=>{o[e].length>1&&o[e].forEach((e=>t.add("".concat(n,",").concat(e))))})),Object.keys(a).forEach((e=>{a[e].length>1&&a[e].forEach((e=>t.add("".concat(e,",").concat(n))))}))}for(let n=0;n<3;n++)for(let o=0;o<3;o++){const a={};for(let t=3*n;t<3*n+3;t++)for(let n=3*o;n<3*o+3;n++){const o=e[t][n];0!==o&&(a[o]||(a[o]=[])).push([t,n])}Object.keys(a).forEach((e=>{a[e].length>1&&a[e].forEach((e=>{let[n,o]=e;return t.add("".concat(n,",").concat(o))}))}))}return t}(n)),[n]);function B(e){G((e=>[...e,c(n)])),b([]),u(e)}function D(e){const n=f(),o=function(e,t){const n={Easy:40,Medium:50,Hard:58}[t]||50,o=c(e),a=s(Array.from({length:81},((e,t)=>[Math.floor(t/9),t%9])));let r=0;for(const[c,l]of a){if(r>=n)break;const e=o[c][l];0!==e&&(o[c][l]=0,1!==m(o,2)?o[c][l]=e:r++)}return o}(n,e),a=o.map((e=>e.map((e=>0!==e))));t(e),u(c(o)),d(a),_(c(n)),k(null),g(Array.from({length:9},(()=>Array.from({length:9},(()=>new Set))))),G([]),b([]),y(Date.now()),M(0),E(!1)}(0,o.useEffect)((()=>{if(null===N||C)return;const e=setInterval((()=>M(Date.now()-N)),250);return()=>clearInterval(e)}),[N,C]),(0,o.useEffect)((()=>{D("Easy")}),[]);const R=S?n[S.r][S.c]:0;function F(e){if(!S)return;const{r:t,c:o}=S;if(i[t][o])return;const a=c(n);if(x){const n=new Set(p[t][o]);n.has(e)?n.delete(e):n.add(e);const a=p.map(((e,a)=>e.map(((e,r)=>a===t&&r===o?n:new Set(e)))));g(a)}else{a[t][o]=e,B(a);const n=p.map((e=>e.map((e=>new Set(e)))));for(let o=0;o<9;o++)n[t][o].delete(e);for(let t=0;t<9;t++)n[t][o].delete(e);const r=3*Math.floor(t/3),c=3*Math.floor(o/3);for(let t=r;t<r+3;t++)for(let o=c;o<c+3;o++)n[t][o].delete(e);g(n)}}function I(){if(!S)return;const{r:e,c:t}=S;if(i[e][t])return;const o=c(n);o[e][t]=0,B(o)}function W(e,t,n){const o=i[e][t],r=S&&S.r===e&&S.c===t,c=0!==R&&n===R,l=S&&(S.r===e||S.c===t||Math.floor(S.r/3)===Math.floor(e/3)&&Math.floor(S.c/3)===Math.floor(t/3)),s=P.has("".concat(e,",").concat(t));return[a.cell,o?a.cellFixed:"",r?a.cellSelected:"",l&&!r?a.cellPeer:"",c&&!r?a.cellSame:"",s?a.cellConflict:""].filter(Boolean).join(" ")}(0,o.useEffect)((()=>{function e(e){if(!S)return;const{r:t,c:n}=S;e.key>="1"&&e.key<="9"?F(parseInt(e.key,10)):["Backspace","Delete","0"].includes(e.key)?(e.preventDefault(),I()):["ArrowUp","w","W"].includes(e.key)?(e.preventDefault(),k({r:Math.max(0,t-1),c:n})):["ArrowDown","s","S"].includes(e.key)?(e.preventDefault(),k({r:Math.min(8,t+1),c:n})):["ArrowLeft","a","A"].includes(e.key)?(e.preventDefault(),k({r:t,c:Math.max(0,n-1)})):["ArrowRight","d","D"].includes(e.key)?(e.preventDefault(),k({r:t,c:Math.min(8,n+1)})):"Enter"===e.key&&w((e=>!e))}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[S,n,x,p]);const{complete:q,correct:H}=(0,o.useMemo)((()=>({complete:n.flat().every((e=>0!==e)),correct:!!h&&function(e,t){for(let n=0;n<9;n++)for(let o=0;o<9;o++)if(e[n][o]!==t[n][o])return!1;return!0}(n,h)})),[n,h]);return(0,r.jsxs)("div",{className:a.container,children:[(0,r.jsxs)("div",{className:a.headerRow,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:a.title,children:"Sudoku"}),(0,r.jsx)("p",{className:a.hint,children:"Keys: 1\u20139 fill \u2022 0/Delete clear \u2022 Arrows/WASD move \u2022 Enter = Pencil"})]}),(0,r.jsxs)("div",{className:a.toolbar,children:[(0,r.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:a.select,children:[(0,r.jsx)("option",{children:"Easy"}),(0,r.jsx)("option",{children:"Medium"}),(0,r.jsx)("option",{children:"Hard"})]}),(0,r.jsx)("button",{onClick:()=>D(e),className:a.primaryBtn,children:"New Game"}),(0,r.jsxs)("button",{onClick:()=>w((e=>!e)),className:"".concat(a.button," ").concat(x?a.buttonActive:""),title:"Toggle pencil mode",children:["\u270f\ufe0f ",x?"Pencil On":"Pencil Off"]}),(0,r.jsx)("button",{onClick:function(){G((e=>{if(0===e.length)return e;const t=e[e.length-1];return b((e=>[c(n),...e])),u(t),e.slice(0,-1)}))},className:a.button,disabled:0===v.length,children:"\u27f2 Undo"}),(0,r.jsx)("button",{onClick:function(){b((e=>{if(0===e.length)return e;const t=e[0];return G((e=>[...e,c(n)])),u(t),e.slice(1)}))},className:a.button,disabled:0===j.length,children:"\u27f3 Redo"}),(0,r.jsx)("button",{onClick:function(){if(!h)return;const e=[];for(let r=0;r<9;r++)for(let t=0;t<9;t++)0===n[r][t]&&e.push([r,t]);if(0===e.length)return;const[t,o]=e[Math.floor(Math.random()*e.length)],a=c(n);a[t][o]=h[t][o],B(a)},className:a.button,children:"\ud83d\udca1 Hint"}),(0,r.jsx)("button",{onClick:()=>E((e=>!e)),className:a.button,children:C?"\u25b6\ufe0f Resume":"\u23f8\ufe0f Pause"}),(0,r.jsxs)("div",{className:a.timer,children:["\u23f1\ufe0f ",function(e){const t=Math.floor(e/1e3),n=String(Math.floor(t/60)).padStart(2,"0"),o=String(t%60).padStart(2,"0");return"".concat(n,":").concat(o)}(A)]})]})]}),(0,r.jsxs)("div",{className:a.gameRow,children:[(0,r.jsx)("div",{className:a.board,children:Array.from({length:9},((e,t)=>(0,r.jsx)(o.Fragment,{children:Array.from({length:9},((e,o)=>{const c=n[t][o],l=i[t][o];return(0,r.jsx)("button",{className:W(t,o,c),onClick:()=>k({r:t,c:o}),children:0!==c?(0,r.jsx)("span",{className:l?a.valFixed:a.valUser,children:c}):p[t][o].size>0?(0,r.jsx)("div",{className:a.notesGrid,children:Array.from({length:9},((e,t)=>t+1)).map((e=>(0,r.jsx)("span",{className:a.note,children:p[t][o].has(e)?e:"\xa0"},e)))}):(0,r.jsx)("span",{className:a.placeholder,children:"0"})},"".concat(t,"-").concat(o))}))},t)))}),(0,r.jsxs)("div",{className:a.sidePanel,children:[(0,r.jsxs)("div",{className:a.numpad,children:[Array.from({length:9},((e,t)=>t+1)).map((e=>(0,r.jsx)("button",{onClick:()=>F(e),className:a.numpadBtn,children:x?"\u270f\ufe0f ".concat(e):e},e))),(0,r.jsx)("button",{onClick:I,className:"".concat(a.numpadBtn," ").concat(a.wide),children:"\u232b Clear"}),(0,r.jsx)("button",{onClick:()=>{q&&H?(alert("\ud83c\udf89 Puzzle complete! Great job."),E(!0)):q&&!H?alert("Filled but incorrect \u2014 check red conflicts or use a hint."):alert("Keep going \u2014 there are still empty cells.")},className:"".concat(a.primaryBtn," ").concat(a.wide),children:"\u2705 Check Progress"})]}),(0,r.jsxs)("div",{className:a.legend,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"".concat(a.legendSwatch," ").concat(a.swatchGiven)})," ","Given cell"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"".concat(a.legendSwatch," ").concat(a.swatchSame)})," ","Same number"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"".concat(a.legendSwatch," ").concat(a.swatchPeer)})," ","Same row/col/box"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"".concat(a.legendSwatch," ").concat(a.swatchConflict),children:"x"})," ","Conflict"]})]}),(0,r.jsx)("div",{className:a.statusBox,children:(0,r.jsxs)("div",{className:a.statusRow,children:[(0,r.jsx)("span",{children:"Status:"}),(0,r.jsx)("span",{className:q?H?a.solved:a.filledWrong:a.inProgress,children:q?H?"Solved":"Filled but incorrect":"In progress"})]})})]})]}),(0,r.jsx)("div",{className:a.footerNote,children:"Pro tip: Use \u270f\ufe0f pencil mode to jot candidates; press Enter to toggle quickly."})]})}}}]);
//# sourceMappingURL=7414.a2e602fa.chunk.js.map