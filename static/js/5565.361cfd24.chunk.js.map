{"version":3,"file":"static/js/5565.361cfd24.chunk.js","mappings":"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","sources":["webpack://AlgoLens/./src/routing/site/algo/components/KruskalMST/KruskalVisualizer.module.css?1bde","routing/site/algo/components/KruskalMST/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"KruskalVisualizer_container__X6lXm\",\"title\":\"KruskalVisualizer_title__58Lwi\",\"controls\":\"KruskalVisualizer_controls__ygtTV\",\"main\":\"KruskalVisualizer_main__9-rR7\",\"canvas\":\"KruskalVisualizer_canvas__8om34\",\"side\":\"KruskalVisualizer_side__8FTyT\",\"panel\":\"KruskalVisualizer_panel__ZFnAq\",\"edgeLabel\":\"KruskalVisualizer_edgeLabel__1DOWy\",\"nodeLabel\":\"KruskalVisualizer_nodeLabel__fvmd-\",\"nodeGroup\":\"KruskalVisualizer_nodeGroup__xVRAo\",\"logBox\":\"KruskalVisualizer_logBox__n6POY\",\"logItem\":\"KruskalVisualizer_logItem__uirfX\",\"dsuBox\":\"KruskalVisualizer_dsuBox__aEdKB\",\"total\":\"KruskalVisualizer_total__+IP7b\"};","import React, { useEffect, useRef, useState } from \"react\"\nimport styles from \"./KruskalVisualizer.module.css\"\nimport { useMemo } from \"react\"\n\n// ---------- useKruskal hook (algorithm + step control + DSU animation state) ----------\nfunction useKruskal(nodes, edges) {\n  // nodes: array of node ids\n  // edges: array of {id, u, v, weight}\n  const sortedEdges = useMemo(\n    () => [...edges].sort((a, b) => a.weight - b.weight),\n    [edges]\n  )\n\n  // DSU\n  function makeDSU(nlist) {\n    const parent = {}\n    const rank = {}\n    nlist.forEach((x) => {\n      parent[x] = x\n      rank[x] = 0\n    })\n    return { parent, rank }\n  }\n\n  function find(parent, x) {\n    if (parent[x] !== x) parent[x] = find(parent, parent[x])\n    return parent[x]\n  }\n\n  function union(parent, rank, a, b) {\n    let ra = find(parent, a)\n    let rb = find(parent, b)\n    if (ra === rb) return false\n    if (rank[ra] < rank[rb]) parent[ra] = rb\n    else if (rank[ra] > rank[rb]) parent[rb] = ra\n    else {\n      parent[rb] = ra\n      rank[ra] += 1\n    }\n    return true\n  }\n\n  // Step-by-step states\n  function init() {\n    const dsu = makeDSU(nodes)\n    return {\n      stepIndex: 0, // index into sortedEdges\n      acceptedEdges: [], // edges accepted into MST\n      rejectedEdges: [],\n      dsu,\n      status: \"idle\", // idle | running | finished\n      logs: [],\n    }\n  }\n\n  function step(state) {\n    if (state.stepIndex >= sortedEdges.length) {\n      return { ...state, status: \"finished\" }\n    }\n    const edge = sortedEdges[state.stepIndex]\n    const { u, v } = edge\n    const parentCopy = { ...state.dsu.parent }\n    const rankCopy = { ...state.dsu.rank }\n    const alreadyConnected = find(parentCopy, u) === find(parentCopy, v)\n\n    let newAccepted = [...state.acceptedEdges]\n    let newRejected = [...state.rejectedEdges]\n    let newLogs = [...state.logs]\n\n    if (!alreadyConnected) {\n      union(parentCopy, rankCopy, u, v)\n      newAccepted.push(edge)\n      newLogs.push(`Accepted edge ${u}‚Äì${v} (w=${edge.weight})`)\n    } else {\n      newRejected.push(edge)\n      newLogs.push(\n        `Rejected edge ${u}‚Äì${v} (w=${edge.weight}) ‚Äî would form cycle`\n      )\n    }\n\n    return {\n      ...state,\n      stepIndex: state.stepIndex + 1,\n      acceptedEdges: newAccepted,\n      rejectedEdges: newRejected,\n      dsu: { parent: parentCopy, rank: rankCopy },\n      logs: newLogs,\n      status:\n        state.stepIndex + 1 >= sortedEdges.length ? \"finished\" : \"running\",\n    }\n  }\n\n  function runAll(initialState) {\n    let s = { ...initialState }\n    while (s.stepIndex < sortedEdges.length) {\n      s = step(s)\n    }\n    return s\n  }\n\n  return { init, step, runAll, sortedEdges }\n}\n\n// ---------- KruskalVisualizer Component ----------\nexport default function KruskalMST() {\n  const [nodes, setNodes] = useState([\"A\", \"B\", \"C\", \"D\"])\n  const [edges, setEdges] = useState([\n    { id: \"e1\", u: \"A\", v: \"B\", weight: 3 },\n    { id: \"e2\", u: \"A\", v: \"C\", weight: 1 },\n    { id: \"e3\", u: \"B\", v: \"C\", weight: 7 },\n    { id: \"e4\", u: \"B\", v: \"D\", weight: 5 },\n    { id: \"e5\", u: \"C\", v: \"D\", weight: 2 },\n  ])\n\n  const { init, step, runAll, sortedEdges } = useKruskal(nodes, edges)\n  const [state, setState] = useState(() => init())\n\n  // Layout state for simple force-directed placement\n  const [positions, setPositions] = useState(() => {\n    const map = {}\n    const angleStep = (Math.PI * 2) / nodes.length\n    nodes.forEach((n, i) => {\n      map[n] = {\n        x: 300 + Math.cos(i * angleStep) * 150,\n        y: 150 + Math.sin(i * angleStep) * 100,\n        vx: 0,\n        vy: 0,\n      }\n    })\n    return map\n  })\n\n  // update positions if node count changes\n  useEffect(() => {\n    setPositions((old) => {\n      const next = { ...old }\n      const angleStep = (Math.PI * 2) / nodes.length\n      nodes.forEach((n, i) => {\n        if (!next[n])\n          next[n] = {\n            x: 300 + Math.cos(i * angleStep) * 150,\n            y: 150 + Math.sin(i * angleStep) * 100,\n            vx: 0,\n            vy: 0,\n          }\n      })\n      // remove deleted\n      Object.keys(next).forEach((k) => {\n        if (!nodes.includes(k)) delete next[k]\n      })\n      return next\n    })\n  }, [nodes])\n\n  // simple force simulation tick\n  const rafRef = useRef(null)\n  useEffect(() => {\n    let mounted = true\n    function tick() {\n      setPositions((pos) => {\n        const p = { ...pos }\n        const keys = Object.keys(p)\n        // repulsion\n        for (let i = 0; i < keys.length; i++) {\n          for (let j = i + 1; j < keys.length; j++) {\n            const a = p[keys[i]]\n            const b = p[keys[j]]\n            let dx = a.x - b.x\n            let dy = a.y - b.y\n            let dist = Math.sqrt(dx * dx + dy * dy) || 1\n            const force = 800 / (dist * dist)\n            const fx = (dx / dist) * force\n            const fy = (dy / dist) * force\n            a.vx += fx\n            a.vy += fy\n            b.vx -= fx\n            b.vy -= fy\n          }\n        }\n        // spring edges\n        edges.forEach((e) => {\n          const a = p[e.u]\n          const b = p[e.v]\n          if (!a || !b) return\n          let dx = b.x - a.x\n          let dy = b.y - a.y\n          let dist = Math.sqrt(dx * dx + dy * dy) || 1\n          const desired = 120\n          const k = 0.02\n          const diff = dist - desired\n          const fx = (dx / dist) * diff * k\n          const fy = (dy / dist) * diff * k\n          a.vx += fx\n          a.vy += fy\n          b.vx -= fx\n          b.vy -= fy\n        })\n\n        // integrate\n        keys.forEach((key) => {\n          p[key].vx *= 0.85\n          p[key].vy *= 0.85\n          p[key].x += p[key].vx\n          p[key].y += p[key].vy\n          // bounds\n          p[key].x = Math.max(30, Math.min(570, p[key].x))\n          p[key].y = Math.max(30, Math.min(320, p[key].y))\n        })\n        return p\n      })\n      if (mounted) rafRef.current = requestAnimationFrame(tick)\n    }\n    rafRef.current = requestAnimationFrame(tick)\n    return () => {\n      mounted = false\n      cancelAnimationFrame(rafRef.current)\n    }\n  }, [edges])\n\n  // Controls\n  function handleAddNode() {\n    // next label: single uppercase letters then A1, A2 if >26\n    const base = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n    let nextLabel = \"X\"\n    for (let i = 0; i < base.length; i++) {\n      if (!nodes.includes(base[i])) {\n        nextLabel = base[i]\n        break\n      }\n    }\n    if (nodes.length >= 26) nextLabel = `N${nodes.length}`\n    setNodes((s) => [...s, nextLabel])\n  }\n\n  function handleAddEdge() {\n    const from = prompt(\"From node (id):\")\n    const to = prompt(\"To node (id):\")\n    const w = Number(prompt(\"Weight (number):\"))\n    if (!from || !to || isNaN(w)) return alert(\"Invalid input\")\n    if (!nodes.includes(from) || !nodes.includes(to))\n      return alert(\"Unknown nodes\")\n    const id = `e${edges.length + 1}`\n    setEdges((s) => [...s, { id, u: from, v: to, weight: w }])\n  }\n\n  function handleReset() {\n    setState(init())\n    // keep nodes/edges\n  }\n\n  // algorithm steps\n  function handleStep() {\n    setState((s) => step(s))\n  }\n\n  function handleRunAll() {\n    setState((s) => runAll(s))\n  }\n\n  // when nodes or edges change, reinit state\n  useEffect(() => {\n    setState(() => init())\n  }, [nodes, edges])\n\n  // helpers for rendering\n  const acceptedSet = new Set(state.acceptedEdges.map((e) => e.id))\n  const rejectedSet = new Set(state.rejectedEdges.map((e) => e.id))\n  const nextEdge = sortedEdges[state.stepIndex]\n\n  return (\n    <div className={styles.container}>\n      <h2 className={styles.title}>Kruskal&apos;s MST Visualizer ü™¢</h2>\n      <div className={styles.controls}>\n        <button onClick={handleAddNode}>‚ûï Add Node</button>\n        <button onClick={handleAddEdge}>‚ûï Add Edge</button>\n        <button onClick={handleStep}>‚è≠ Step</button>\n        <button onClick={handleRunAll}>‚ñ∂ Run All</button>\n        <button onClick={handleReset}>‚ü≤ Reset</button>\n      </div>\n\n      <div className={styles.main}>\n        <svg className={styles.canvas} viewBox=\"0 0 600 360\">\n          {/* edges (base) */}\n          {edges.map((e) => {\n            const a = positions[e.u]\n            const b = positions[e.v]\n            if (!a || !b) return null\n            const isAccepted = acceptedSet.has(e.id)\n            const isRejected = rejectedSet.has(e.id)\n            const isNext = nextEdge && nextEdge.id === e.id\n            return (\n              <g key={e.id}>\n                <line\n                  x1={a.x}\n                  y1={a.y}\n                  x2={b.x}\n                  y2={b.y}\n                  stroke={\n                    isAccepted\n                      ? \"#2b8a3e\"\n                      : isRejected\n                      ? \"#d9534f\"\n                      : isNext\n                      ? \"#f0ad4e\"\n                      : \"#aaa\"\n                  }\n                  strokeWidth={isAccepted ? 4 : isNext ? 3.5 : 2}\n                  opacity={isRejected ? 0.6 : 1}\n                />\n                <text\n                  x={(a.x + b.x) / 2 + 6}\n                  y={(a.y + b.y) / 2 - 6}\n                  className={styles.edgeLabel}\n                >\n                  {e.weight}\n                </text>\n              </g>\n            )\n          })}\n\n          {/* accepted edges highlight on top */}\n          {state.acceptedEdges.map((e) => {\n            const a = positions[e.u]\n            const b = positions[e.v]\n            if (!a || !b) return null\n            return (\n              <line\n                key={`acc-${e.id}`}\n                x1={a.x}\n                y1={a.y}\n                x2={b.x}\n                y2={b.y}\n                stroke=\"#2b8a3e\"\n                strokeWidth={4}\n                opacity={0.4}\n              />\n            )\n          })}\n\n          {/* nodes */}\n          {nodes.map((n) => {\n            const p = positions[n] || { x: 300, y: 150 }\n            // find leader for DSU highlighting\n            const leader = state.dsu?.parent\n              ? (function () {\n                  let pr = state.dsu.parent\n                  let x = n\n                  while (pr[x] !== x) x = pr[x]\n                  return x\n                })()\n              : null\n            return (\n              <g\n                key={n}\n                className={styles.nodeGroup}\n                transform={`translate(${p.x}, ${p.y})`}\n              >\n                <circle\n                  r={18}\n                  fill={leader ? \"#fff\" : \"#fff\"}\n                  stroke=\"#333\"\n                  strokeWidth={2}\n                />\n                <text\n                  textAnchor=\"middle\"\n                  dominantBaseline=\"central\"\n                  className={styles.nodeLabel}\n                >\n                  {n}\n                </text>\n              </g>\n            )\n          })}\n        </svg>\n\n        <div className={styles.side}>\n          <div className={styles.panel}>\n            <h4>Sorted Edges</h4>\n            <ol>\n              {sortedEdges.map((e) => (\n                <li key={e.id} style={{ marginBottom: 6 }}>\n                  <strong\n                    style={{\n                      color: acceptedSet.has(e.id)\n                        ? \"#2b8a3e\"\n                        : rejectedSet.has(e.id)\n                        ? \"#d9534f\"\n                        : \"#333\",\n                    }}\n                  >\n                    {e.u}‚Äì{e.v}\n                  </strong>{\" \"}\n                  (w={e.weight}){\" \"}\n                  {nextEdge && nextEdge.id === e.id ? \" ‚Üê next\" : \"\"}\n                </li>\n              ))}\n            </ol>\n          </div>\n\n          <div className={styles.panel}>\n            <h4>MST Edges</h4>\n            <ul>\n              {state.acceptedEdges.map((e) => (\n                <li key={e.id}>\n                  {e.u}‚Äì{e.v} (w={e.weight})\n                </li>\n              ))}\n            </ul>\n            <div className={styles.total}>\n              Total weight:{\" \"}\n              {state.acceptedEdges.reduce((s, e) => s + e.weight, 0)}\n            </div>\n          </div>\n\n          <div className={styles.panel}>\n            <h4>DSU Parent Map</h4>\n            <pre className={styles.dsuBox}>\n              {state.dsu ? JSON.stringify(state.dsu.parent, null, 2) : \"{}\"}\n            </pre>\n          </div>\n\n          <div className={styles.panel}>\n            <h4>Logs</h4>\n            <div className={styles.logBox}>\n              {state.logs.map((l, i) => (\n                <div key={i} className={styles.logItem}>\n                  {l}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["useKruskal","nodes","edges","sortedEdges","useMemo","sort","a","b","weight","find","parent","x","step","state","stepIndex","length","status","edge","u","v","parentCopy","dsu","rankCopy","rank","alreadyConnected","newAccepted","acceptedEdges","newRejected","rejectedEdges","newLogs","logs","push","ra","rb","union","init","nlist","forEach","makeDSU","runAll","initialState","s","KruskalMST","setNodes","useState","setEdges","id","setState","positions","setPositions","map","angleStep","Math","PI","n","i","cos","y","sin","vx","vy","useEffect","old","next","Object","keys","k","includes","rafRef","useRef","mounted","current","requestAnimationFrame","tick","pos","p","j","dx","dy","dist","sqrt","force","fx","fy","e","diff","key","max","min","cancelAnimationFrame","acceptedSet","Set","rejectedSet","nextEdge","_jsxs","className","styles","children","_jsx","onClick","base","nextLabel","from","prompt","to","w","Number","isNaN","alert","viewBox","isAccepted","has","isRejected","isNext","x1","y1","x2","y2","stroke","strokeWidth","opacity","_state$dsu","pr","transform","r","fill","textAnchor","dominantBaseline","style","marginBottom","color","reduce","JSON","stringify","l"],"sourceRoot":""}