"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7414],{27414:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(72791);const l={container:"SudokuGame_container__lay94",headerRow:"SudokuGame_headerRow__BG2si",title:"SudokuGame_title__6zMfI",hint:"SudokuGame_hint__v9cEK",toolbar:"SudokuGame_toolbar__eboh7",select:"SudokuGame_select__F-Q65",button:"SudokuGame_button__qL9jb",buttonActive:"SudokuGame_buttonActive__dUWMO",primaryBtn:"SudokuGame_primaryBtn__19ia+",timer:"SudokuGame_timer__NxwUi",gameRow:"SudokuGame_gameRow__DGF1V",sidePanel:"SudokuGame_sidePanel__WJyxL",board:"SudokuGame_board__kURaP",cell:"SudokuGame_cell__YbxTl",cellFixed:"SudokuGame_cellFixed__WlQQa",cellSelected:"SudokuGame_cellSelected__ElUUQ",cellPeer:"SudokuGame_cellPeer__9JG6P",cellSame:"SudokuGame_cellSame__9B6NY",cellConflict:"SudokuGame_cellConflict__GS8ZJ",valFixed:"SudokuGame_valFixed__eY3Ru",valUser:"SudokuGame_valUser__htC1z",placeholder:"SudokuGame_placeholder__uBvrK",notesGrid:"SudokuGame_notesGrid__8LLXS",note:"SudokuGame_note__7h6WV",numpad:"SudokuGame_numpad__JLz1m",numpadBtn:"SudokuGame_numpadBtn__cK071",wide:"SudokuGame_wide__gWeEH",legend:"SudokuGame_legend__ocy19",legendSwatch:"SudokuGame_legendSwatch__qV1cm",swatchGiven:"SudokuGame_swatchGiven__cYm5e",swatchSame:"SudokuGame_swatchSame__F7im8",swatchPeer:"SudokuGame_swatchPeer__YNtQi",swatchConflict:"SudokuGame_swatchConflict__gEBql",statusBox:"SudokuGame_statusBox__lzw47",statusRow:"SudokuGame_statusRow__q0dEa",solved:"SudokuGame_solved__r0YtK",filledWrong:"SudokuGame_filledWrong__bB7p5",inProgress:"SudokuGame_inProgress__TVRWh",footerNote:"SudokuGame_footerNote__1ujpX"};var a=n(80184);const o=e=>e.map((e=>[...e])),s=()=>Array.from({length:9},(()=>Array(9).fill(0)));function c(e){const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t}function u(e,t,n,r){if(r<1||r>9)return!1;for(let o=0;o<9;o++){if(e[t][o]===r&&o!==n)return!1;if(e[o][n]===r&&o!==t)return!1}const l=3*Math.floor(t/3),a=3*Math.floor(n/3);for(let o=l;o<l+3;o++)for(let l=a;l<a+3;l++)if(e[o][l]===r&&(o!==t||l!==n))return!1;return!0}function i(e){for(let t=0;t<9;t++)for(let n=0;n<9;n++)if(0===e[t][n])return[t,n];return null}function d(e){const t=i(e);if(!t)return!0;const[n,r]=t;for(const l of c([1,2,3,4,5,6,7,8,9]))if(u(e,n,r,l)){if(e[n][r]=l,d(e))return!0;e[n][r]=0}return!1}function m(){const e=s();return d(e),e}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;function n(e,r){if(r.n>=t)return!0;const l=i(e);if(!l)return r.n+=1,r.n>=t;const[a,o]=l;for(let t=1;t<=9;t++)if(u(e,a,o,t)){if(e[a][o]=t,n(e,r))return!0;e[a][o]=0}return!1}const r=o(e),l={n:0};return n(r,l),l.n}function h(){const[e,t]=(0,r.useState)("Easy"),[n,u]=(0,r.useState)(s()),[i,d]=(0,r.useState)(Array.from({length:9},(()=>Array(9).fill(!1)))),[h,_]=(0,r.useState)(null),[S,k]=(0,r.useState)(null),[p,x]=(0,r.useState)(Array.from({length:9},(()=>Array.from({length:9},(()=>new Set))))),[w,g]=(0,r.useState)(!1),[v,j]=(0,r.useState)([]),[G,b]=(0,r.useState)([]),[y,N]=(0,r.useState)(null),[$,M]=(0,r.useState)(0),[A,C]=(0,r.useState)(!1),E=(0,r.useMemo)((()=>function(e){const t=new Set;for(let n=0;n<9;n++){const r={},l={};for(let t=0;t<9;t++){const a=e[n][t],o=e[t][n];0!==a&&(r[a]||=[]).push(t),0!==o&&(l[o]||=[]).push(t)}Object.keys(r).forEach((e=>{r[e].length>1&&r[e].forEach((e=>t.add(`${n},${e}`)))})),Object.keys(l).forEach((e=>{l[e].length>1&&l[e].forEach((e=>t.add(`${e},${n}`)))}))}for(let n=0;n<3;n++)for(let r=0;r<3;r++){const l={};for(let t=3*n;t<3*n+3;t++)for(let n=3*r;n<3*r+3;n++){const r=e[t][n];0!==r&&(l[r]||=[]).push([t,n])}Object.keys(l).forEach((e=>{l[e].length>1&&l[e].forEach((e=>{let[n,r]=e;return t.add(`${n},${r}`)}))}))}return t}(n)),[n]);function P(e){j((e=>[...e,o(n)])),b([]),u(e)}function B(e){const n=m(),r=function(e,t){const n={Easy:40,Medium:50,Hard:58}[t]||50,r=o(e),l=c(Array.from({length:81},((e,t)=>[Math.floor(t/9),t%9])));let a=0;for(const[o,s]of l){if(a>=n)break;const e=r[o][s];0!==e&&(r[o][s]=0,1!==f(r,2)?r[o][s]=e:a++)}return r}(n,e),l=r.map((e=>e.map((e=>0!==e))));t(e),u(o(r)),d(l),_(o(n)),k(null),x(Array.from({length:9},(()=>Array.from({length:9},(()=>new Set))))),j([]),b([]),N(Date.now()),M(0),C(!1)}(0,r.useEffect)((()=>{if(null===y||A)return;const e=setInterval((()=>M(Date.now()-y)),250);return()=>clearInterval(e)}),[y,A]),(0,r.useEffect)((()=>{B("Easy")}),[]);const R=S?n[S.r][S.c]:0;function D(e){if(!S)return;const{r:t,c:r}=S;if(i[t][r])return;const l=o(n);if(w){const n=new Set(p[t][r]);n.has(e)?n.delete(e):n.add(e);const l=p.map(((e,l)=>e.map(((e,a)=>l===t&&a===r?n:new Set(e)))));x(l)}else{l[t][r]=e,P(l);const n=p.map((e=>e.map((e=>new Set(e)))));for(let r=0;r<9;r++)n[t][r].delete(e);for(let t=0;t<9;t++)n[t][r].delete(e);const a=3*Math.floor(t/3),o=3*Math.floor(r/3);for(let t=a;t<a+3;t++)for(let r=o;r<o+3;r++)n[t][r].delete(e);x(n)}}function F(){if(!S)return;const{r:e,c:t}=S;if(i[e][t])return;const r=o(n);r[e][t]=0,P(r)}function U(e,t,n){const r=i[e][t],a=S&&S.r===e&&S.c===t,o=0!==R&&n===R,s=S&&(S.r===e||S.c===t||Math.floor(S.r/3)===Math.floor(e/3)&&Math.floor(S.c/3)===Math.floor(t/3)),c=E.has(`${e},${t}`);return[l.cell,r?l.cellFixed:"",a?l.cellSelected:"",s&&!a?l.cellPeer:"",o&&!a?l.cellSame:"",c?l.cellConflict:""].filter(Boolean).join(" ")}(0,r.useEffect)((()=>{function e(e){if(!S)return;const{r:t,c:n}=S;e.key>="1"&&e.key<="9"?D(parseInt(e.key,10)):["Backspace","Delete","0"].includes(e.key)?(e.preventDefault(),F()):["ArrowUp","w","W"].includes(e.key)?(e.preventDefault(),k({r:Math.max(0,t-1),c:n})):["ArrowDown","s","S"].includes(e.key)?(e.preventDefault(),k({r:Math.min(8,t+1),c:n})):["ArrowLeft","a","A"].includes(e.key)?(e.preventDefault(),k({r:t,c:Math.max(0,n-1)})):["ArrowRight","d","D"].includes(e.key)?(e.preventDefault(),k({r:t,c:Math.min(8,n+1)})):"Enter"===e.key&&g((e=>!e))}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[S,n,w,p]);const{complete:W,correct:L}=(0,r.useMemo)((()=>({complete:n.flat().every((e=>0!==e)),correct:!!h&&function(e,t){for(let n=0;n<9;n++)for(let r=0;r<9;r++)if(e[n][r]!==t[n][r])return!1;return!0}(n,h)})),[n,h]);return(0,a.jsxs)("div",{className:l.container,children:[(0,a.jsxs)("div",{className:l.headerRow,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:l.title,children:"Sudoku"}),(0,a.jsx)("p",{className:l.hint,children:"Keys: 1\u20139 fill \u2022 0/Delete clear \u2022 Arrows/WASD move \u2022 Enter = Pencil"})]}),(0,a.jsxs)("div",{className:l.toolbar,children:[(0,a.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:l.select,children:[(0,a.jsx)("option",{children:"Easy"}),(0,a.jsx)("option",{children:"Medium"}),(0,a.jsx)("option",{children:"Hard"})]}),(0,a.jsx)("button",{onClick:()=>B(e),className:l.primaryBtn,children:"New Game"}),(0,a.jsxs)("button",{onClick:()=>g((e=>!e)),className:`${l.button} ${w?l.buttonActive:""}`,title:"Toggle pencil mode",children:["\u270f\ufe0f ",w?"Pencil On":"Pencil Off"]}),(0,a.jsx)("button",{onClick:function(){j((e=>{if(0===e.length)return e;const t=e[e.length-1];return b((e=>[o(n),...e])),u(t),e.slice(0,-1)}))},className:l.button,disabled:0===v.length,children:"\u27f2 Undo"}),(0,a.jsx)("button",{onClick:function(){b((e=>{if(0===e.length)return e;const t=e[0];return j((e=>[...e,o(n)])),u(t),e.slice(1)}))},className:l.button,disabled:0===G.length,children:"\u27f3 Redo"}),(0,a.jsx)("button",{onClick:function(){if(!h)return;const e=[];for(let a=0;a<9;a++)for(let t=0;t<9;t++)0===n[a][t]&&e.push([a,t]);if(0===e.length)return;const[t,r]=e[Math.floor(Math.random()*e.length)],l=o(n);l[t][r]=h[t][r],P(l)},className:l.button,children:"\ud83d\udca1 Hint"}),(0,a.jsx)("button",{onClick:()=>C((e=>!e)),className:l.button,children:A?"\u25b6\ufe0f Resume":"\u23f8\ufe0f Pause"}),(0,a.jsxs)("div",{className:l.timer,children:["\u23f1\ufe0f ",function(e){const t=Math.floor(e/1e3);return`${String(Math.floor(t/60)).padStart(2,"0")}:${String(t%60).padStart(2,"0")}`}($)]})]})]}),(0,a.jsxs)("div",{className:l.gameRow,children:[(0,a.jsx)("div",{className:l.board,children:Array.from({length:9},((e,t)=>(0,a.jsx)(r.Fragment,{children:Array.from({length:9},((e,r)=>{const o=n[t][r],s=i[t][r];return(0,a.jsx)("button",{className:U(t,r,o),onClick:()=>k({r:t,c:r}),children:0!==o?(0,a.jsx)("span",{className:s?l.valFixed:l.valUser,children:o}):p[t][r].size>0?(0,a.jsx)("div",{className:l.notesGrid,children:Array.from({length:9},((e,t)=>t+1)).map((e=>(0,a.jsx)("span",{className:l.note,children:p[t][r].has(e)?e:"\xa0"},e)))}):(0,a.jsx)("span",{className:l.placeholder,children:"0"})},`${t}-${r}`)}))},t)))}),(0,a.jsxs)("div",{className:l.sidePanel,children:[(0,a.jsxs)("div",{className:l.numpad,children:[Array.from({length:9},((e,t)=>t+1)).map((e=>(0,a.jsx)("button",{onClick:()=>D(e),className:l.numpadBtn,children:w?`\u270f\ufe0f ${e}`:e},e))),(0,a.jsx)("button",{onClick:F,className:`${l.numpadBtn} ${l.wide}`,children:"\u232b Clear"}),(0,a.jsx)("button",{onClick:()=>{W&&L?(alert("\ud83c\udf89 Puzzle complete! Great job."),C(!0)):W&&!L?alert("Filled but incorrect \u2014 check red conflicts or use a hint."):alert("Keep going \u2014 there are still empty cells.")},className:`${l.primaryBtn} ${l.wide}`,children:"\u2705 Check Progress"})]}),(0,a.jsxs)("div",{className:l.legend,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:`${l.legendSwatch} ${l.swatchGiven}`})," ","Given cell"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:`${l.legendSwatch} ${l.swatchSame}`})," ","Same number"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:`${l.legendSwatch} ${l.swatchPeer}`})," ","Same row/col/box"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:`${l.legendSwatch} ${l.swatchConflict}`,children:"x"})," ","Conflict"]})]}),(0,a.jsx)("div",{className:l.statusBox,children:(0,a.jsxs)("div",{className:l.statusRow,children:[(0,a.jsx)("span",{children:"Status:"}),(0,a.jsx)("span",{className:W?L?l.solved:l.filledWrong:l.inProgress,children:W?L?"Solved":"Filled but incorrect":"In progress"})]})})]})]}),(0,a.jsx)("div",{className:l.footerNote,children:"Pro tip: Use \u270f\ufe0f pencil mode to jot candidates; press Enter to toggle quickly."})]})}}}]);
//# sourceMappingURL=7414.dfa7c13e.chunk.js.map