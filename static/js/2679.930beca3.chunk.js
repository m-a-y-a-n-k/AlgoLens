"use strict";(self.webpackChunkAlgoLens=self.webpackChunkAlgoLens||[]).push([[2679],{2679:(e,s,t)=>{t.r(s),t.d(s,{default:()=>$});var r=t(1413),a=t(2791);const n="Tetris_wrapper__tyoUR",c="Tetris_header__kD4CI",i="Tetris_title__PkIlj",l="Tetris_controls__W9mJQ",o="Tetris_hud__PSxWK",h="Tetris_stat__+DQ84",d="Tetris_timerBar__0Ag8C",u="Tetris_timerFill__nD-BO",_="Tetris_timerText__EzvEJ",f="Tetris_bossBox__-H5xz",m="Tetris_bossName__Aai1I",x="Tetris_bossTaunt__WmmWl",p="Tetris_bonusPill__2fCAm",v="Tetris_stage__AhbU8",j="Tetris_board__atPc4",y="Tetris_row__oLaNW",g="Tetris_cell__w-NJA",N="Tetris_empty__uM6wR",T="Tetris_ghost__4yHN0",k="Tetris_filled__5zTmd",S="Tetris_sidebar__hK+mX",b="Tetris_panel__Ds7pd",w="Tetris_panelTitle__CkUU0",A="Tetris_panelBody__s2xo9",M="Tetris_tauntSm__6+Rfc",C="Tetris_metaRow__9AFuO",I="Tetris_nextList__g9jAi",Z="Tetris_miniPiece__pvoxa",L="Tetris_miniRow__-p93T",E="Tetris_miniCell__5jYLo",P="Tetris_miniEmpty__M-iIQ",B="Tetris_miniFilled__VGPn6",R="Tetris_holdBox__oe6jD",D="Tetris_holdEmpty__EkU5W",O="Tetris_gameOver__xeJah",U="Tetris_victory__CzU6I";var W=t(184);const z={I:{color:"#5ab3ff",shapes:[[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]]},J:{color:"#7fb4ff",shapes:[[[1,0,0],[1,1,1],[0,0,0]],[[0,1,1],[0,1,0],[0,1,0]],[[0,0,0],[1,1,1],[0,0,1]],[[0,1,0],[0,1,0],[1,1,0]]]},L:{color:"#ffc857",shapes:[[[0,0,1],[1,1,1],[0,0,0]],[[0,1,0],[0,1,0],[0,1,1]],[[0,0,0],[1,1,1],[1,0,0]],[[1,1,0],[0,1,0],[0,1,0]]]},O:{color:"#ffb02e",shapes:[[[1,1],[1,1]]]},S:{color:"#4ad6a7",shapes:[[[0,1,1],[1,1,0],[0,0,0]],[[0,1,0],[0,1,1],[0,0,1]]]},T:{color:"#b694ff",shapes:[[[0,1,0],[1,1,1],[0,0,0]],[[0,1,0],[0,1,1],[0,1,0]],[[0,0,0],[1,1,1],[0,1,0]],[[0,1,0],[1,1,0],[0,1,0]]]},Z:{color:"#ff6b6b",shapes:[[[1,1,0],[0,1,1],[0,0,0]],[[0,0,1],[0,1,1],[0,1,0]]]}},J=Object.keys(z),F=()=>Array.from({length:20},(()=>Array(10).fill(0)));function H(){const e=[...J];for(let s=e.length-1;s>0;s--){const t=Math.floor(Math.random()*(s+1));[e[s],e[t]]=[e[t],e[s]]}return e}function K(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const t=e.length,r=Array.from({length:t},(()=>Array(t).fill(0)));for(let a=0;a<t;a++)for(let n=0;n<t;n++)s>0?r[n][t-1-a]=e[a][n]:r[t-1-n][a]=e[a][n];return r}const Q=e=>e.map((e=>[...e]));function X(e,s,t,r){for(let a=0;a<s.length;a++)for(let n=0;n<s[a].length;n++){if(!s[a][n])continue;const c=t+n,i=r+a;if(c<0||c>=10||i>=20)return!1;if(i>=0&&0!==e[i][c])return!1}return!0}function Y(e){const s=z[e],t=s.shapes[0].map((e=>[...e])),r=t[0].length;return{key:e,color:s.color,rotationIndex:0,shape:t,x:Math.floor((10-r)/2),y:-2}}function G(e,s){return s?Math.max(240,180-Math.floor(.6*e)):Math.max(360,360-2*e)}const V=["Bitcrusher","Latency Lord","Null Pointer","Stack Smasher","Garbage Colossus","Packet Phantom","Heisen-Bug","Kernel Kraken","Cache Minotaur","Daemon Duke"],q=["Feel the overclock!","I throttle time itself.","Your stack will overflow.","My speed is inevitable.","I'll fragment your hopes.","Packets lost, dreams gone.","Observe non-determinism!","Segfaulting your plans.","Cache this L.","Daemon time!"];function $(){const[e,s]=(0,a.useState)(F()),[t,J]=(0,a.useState)(H()),[$,ee]=(0,a.useState)(H()),[se,te]=(0,a.useState)((()=>H())),[re,ae]=(0,a.useState)((()=>Y(se[0]))),[ne,ce]=(0,a.useState)(null),[ie,le]=(0,a.useState)(!0),[oe,he]=(0,a.useState)(1),[de,ue]=(0,a.useState)(0),[_e,fe]=(0,a.useState)(0),[me,xe]=(0,a.useState)(G(1,!1)),[pe,ve]=(0,a.useState)(!1),[je,ye]=(0,a.useState)(!1),[ge,Ne]=(0,a.useState)(!1),[Te,ke]=(0,a.useState)(!1),[Se,be]=(0,a.useState)(!1),[we,Ae]=(0,a.useState)(!1),Me=(0,a.useMemo)((()=>function(e){return Math.max(120,900-18*(e-1))}(oe)*(we?.5:1)),[oe,we]),Ce=Te?6:10;function Ie(){let e=[...se],s=[...t],r=[...$],a=e.shift();return e.length<3&&(0===s.length&&(s=r,r=H()),e=[...e,...s.splice(0,Math.min(7,s.length))]),te(e),J(s),ee(r),a}function Ze(e){const t=e%5===0;ke(t),be(!1),ue(0),s(F());const r=Ie();ae(Y(r)),xe(G(e,t)),ve(!1),ye(!1),le(!0)}(0,a.useEffect)((()=>{Ze(1)}),[]),(0,a.useEffect)((()=>{if(pe||je||ge)return;const t=setInterval((()=>{ae((t=>{if(!t)return t;const a=t.y+1;if(X(e,t.shape,t.x,a))return(0,r.Z)((0,r.Z)({},t),{},{y:a});const n=function(e,s,t,r,a){const n=Q(e);for(let c=0;c<s.length;c++)for(let e=0;e<s[c].length;e++){if(!s[c][e])continue;const i=t+e,l=r+c;l>=0&&(n[l][i]=a)}return n}(e,t.shape,t.x,t.y,t.color),{board:c,cleared:i}=function(e){const s=e.filter((e=>e.some((e=>0===e)))),t=20-s.length;return{board:[...Array.from({length:t},(()=>Array(10).fill(0))),...s],cleared:t}}(n);if(i>0){const e=[0,100,300,500,800][i],s=[0,2,5,8,12][i],t=Te&&Se?2:1;fe((s=>s+e*oe*t)),ue((e=>e+i)),xe((e=>Math.min(G(oe,Te),e+s)))}s(c),le(!0);const l=Y(Ie());return X(c,l.shape,l.x,l.y)?l:(ye(!0),t)}))}),Me);return()=>clearInterval(t)}),[e,Me,pe,je,ge,Te,Se,oe]),(0,a.useEffect)((()=>{if(pe||je||ge)return;const e=setInterval((()=>{Ae(!0);const e=setTimeout((()=>Ae(!1)),4e3);return()=>clearTimeout(e)}),12e3);return()=>clearInterval(e)}),[pe,je,ge,oe]),(0,a.useEffect)((()=>{if(pe||je||ge)return;const e=setInterval((()=>{xe((e=>e<=1?(ye(!0),0):e-1))}),1e3);return()=>clearInterval(e)}),[pe,je,ge]),(0,a.useEffect)((()=>{if(!je&&!ge&&de>=Ce){Te&&be(!0);const e=oe+1;if(e>50)return Ne(!0),void ve(!0);he(e),Ze(e)}}),[de]),(0,a.useEffect)((()=>{function s(s){if(!s.repeat){if("p"!==s.key&&"P"!==s.key)return"r"===s.key||"R"===s.key?(he(1),fe(0),Ne(!1),void Ze(1)):void(pe||je||ge||ae((t=>{if(!t)return t;const a=function(s,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.shape;return X(e,n,s,a)?(0,r.Z)((0,r.Z)({},t),{},{x:s,y:a,shape:n}):t};switch(s.key){case"ArrowLeft":case"a":case"A":return a(t.x-1,t.y);case"ArrowRight":case"d":case"D":return a(t.x+1,t.y);case"ArrowDown":case"s":case"S":return a(t.x,t.y+1);case"ArrowUp":case"w":case"W":{let s=K(t.shape,1);const a=[[0,0],[-1,0],[1,0],[0,-1],[-2,0],[2,0]];for(const[n,c]of a)if(X(e,s,t.x+n,t.y+c))return(0,r.Z)((0,r.Z)({},t),{},{shape:s,x:t.x+n,y:t.y+c});return t}case"z":case"Z":{const s=K(t.shape,-1);return X(e,s,t.x,t.y)?(0,r.Z)((0,r.Z)({},t),{},{shape:s}):t}case"x":case"X":{const s=K(t.shape,1);return X(e,s,t.x,t.y)?(0,r.Z)((0,r.Z)({},t),{},{shape:s}):t}case"c":case"C":if(!ie)return t;if(le(!1),ne){const s=ne.key;ce({key:t.key,color:t.color,shape:t.shape});const r=Y(s);return X(e,r.shape,r.x,r.y)?r:t}ce({key:t.key,color:t.color,shape:t.shape});return Y(Ie());case" ":{let s=t.y;for(;X(e,t.shape,t.x,s+1);)s++;return(0,r.Z)((0,r.Z)({},t),{},{y:s})}default:return t}})));ve((e=>!e))}}return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)}),[e,pe,je,ge,ie,ne]);const Le=(0,a.useMemo)((()=>{if(!re)return 0;let s=re.y;for(;X(e,re.shape,re.x,s+1);)s++;return s}),[e,re]),Ee=(0,a.useMemo)((()=>se.slice(0,5)),[se]),Pe=(0,a.useMemo)((()=>{const s=Q(e);if(re){for(let e=0;e<re.shape.length;e++)for(let t=0;t<re.shape[e].length;t++){if(!re.shape[e][t])continue;const r=re.x+t,a=Le+e;a>=0&&0===s[a][r]&&(s[a][r]="ghost")}for(let e=0;e<re.shape.length;e++)for(let t=0;t<re.shape[e].length;t++){if(!re.shape[e][t])continue;const r=re.x+t,a=re.y+e;a>=0&&(s[a][r]=re.color)}}return s}),[e,re,Le]),Be="".concat(V[((Re=oe)-1)%V.length]," v").concat(Re);var Re;const De=(e=>q[(e-1)%q.length])(oe),Oe=e=>{let{val:s}=e;return(0,W.jsx)("div",{className:"".concat(g," ").concat(0===s?N:"ghost"===s?T:k),style:s&&"ghost"!==s?{backgroundColor:s}:{}})};return(0,W.jsxs)("div",{className:n,children:[(0,W.jsxs)("div",{className:c,children:[(0,W.jsx)("div",{className:i,children:"Tetris: Boss Rush"}),(0,W.jsx)("div",{className:l,children:(0,W.jsx)("span",{children:"Controls: \u2190 \u2192 move \u2022 \u2193 soft drop \u2022 \u2191/Z/X rotate \u2022 Space hard drop \u2022 C hold \u2022 P pause \u2022 R restart"})})]}),(0,W.jsxs)("div",{className:o,children:[(0,W.jsxs)("div",{className:h,children:[(0,W.jsx)("span",{children:"Level"}),(0,W.jsx)("strong",{children:oe})]}),(0,W.jsxs)("div",{className:h,children:[(0,W.jsx)("span",{children:"Score"}),(0,W.jsx)("strong",{children:_e})]}),(0,W.jsxs)("div",{className:h,children:[(0,W.jsx)("span",{children:"Lines"}),(0,W.jsxs)("strong",{children:[de,"/",Ce]})]}),(0,W.jsxs)("div",{className:d,children:[(0,W.jsx)("div",{className:u,style:{width:"".concat(me/G(oe,Te)*100,"%")}}),(0,W.jsxs)("div",{className:_,children:[me,"s"]})]}),(0,W.jsxs)("div",{className:f,"data-rage":we?"1":"0",children:[(0,W.jsx)("div",{className:m,children:Be}),(0,W.jsx)("div",{className:x,children:De})]}),Te&&(0,W.jsx)("div",{className:p,children:Se?"2x Active!":"Bonus Stage"})]}),(0,W.jsxs)("div",{className:v,children:[(0,W.jsx)("div",{className:j,children:Pe.map(((e,s)=>(0,W.jsx)("div",{className:y,children:e.map(((e,t)=>(0,W.jsx)(Oe,{val:e},"".concat(t,"-").concat(s))))},s)))}),(0,W.jsxs)("aside",{className:S,children:[(0,W.jsxs)("div",{className:b,children:[(0,W.jsx)("div",{className:w,children:"Next"}),(0,W.jsx)("div",{className:I,children:Ee.map(((e,s)=>(0,W.jsx)("div",{className:Z,children:z[e].shapes[0].map(((s,t)=>(0,W.jsx)("div",{className:L,children:s.map(((s,t)=>(0,W.jsx)("div",{className:"".concat(E," ").concat(s?B:P),style:s?{backgroundColor:z[e].color}:{}},t)))},t)))},s)))})]}),(0,W.jsxs)("div",{className:b,children:[(0,W.jsx)("div",{className:w,children:"Hold"}),(0,W.jsx)("div",{className:R,children:ne?z[ne.key].shapes[0].map(((e,s)=>(0,W.jsx)("div",{className:L,children:e.map(((e,s)=>(0,W.jsx)("div",{className:"".concat(E," ").concat(e?B:P),style:e?{backgroundColor:z[ne.key].color}:{}},s)))},s))):(0,W.jsx)("div",{className:D,children:"\u2014"})})]}),(0,W.jsxs)("div",{className:b,children:[(0,W.jsx)("div",{className:w,children:"Boss"}),(0,W.jsxs)("div",{className:A,children:[(0,W.jsx)("div",{children:(0,W.jsx)("strong",{children:Be})}),(0,W.jsx)("div",{className:M,children:De}),(0,W.jsxs)("div",{className:C,children:[(0,W.jsx)("span",{children:"Rage"}),(0,W.jsx)("span",{children:we?"ON":"off"})]}),(0,W.jsxs)("div",{className:C,children:[(0,W.jsx)("span",{children:"Stage"}),(0,W.jsx)("span",{children:Te?"Bonus":"Normal"})]})]})]}),je&&(0,W.jsx)("div",{className:O,children:"\u23f3 Time's up! Press R to retry"}),ge&&(0,W.jsxs)("div",{className:U,children:["\ud83c\udfc5 You cleared ",50," bosses! Medal unlocked!"]})]})]})]})}}}]);
//# sourceMappingURL=2679.930beca3.chunk.js.map