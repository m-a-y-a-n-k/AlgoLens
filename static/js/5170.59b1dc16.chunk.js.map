{"version":3,"file":"static/js/5170.59b1dc16.chunk.js","mappings":"yJAEA,MAyHA,EAzHoBA,IAAe,IAAd,KAAEC,GAAMD,EAC3B,MAAME,GAAoBC,EAAAA,EAAAA,cAAaC,IACrC,MAAMC,EAAQC,SAASC,eAAe,YAChCC,EAAUF,SAASC,eAAe,eAQlCE,EAPMJ,EAAMK,WAAW,MACPC,aACpBP,EAAMQ,YAAYC,QAClBT,EAAMQ,YAAYE,QAClB,EACA,GAE0BC,KAC5BP,EAAQQ,UAAS,MAAAC,OAASR,EAAU,GAAE,WAAAQ,OAAUR,EAAU,GAAE,WAAAQ,OAAUR,EAAU,GAAE,WAAAQ,OAAUR,EAAU,GAAI,GACzG,IAEGS,GAAWf,EAAAA,EAAAA,cAAagB,GACrBA,EACJC,QACC,oCACA,CAACC,EAAGC,EAAGC,EAAGC,IAAM,IAAMF,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,IAE3CC,UAAU,GACVC,MAAM,SACNC,KAAKC,GAAMC,SAASD,EAAG,OACzB,IAEGE,GAAY3B,EAAAA,EAAAA,cAChB,CAAC4B,EAAWC,EAAMC,EAAMC,EAAU7B,KAChC,GAAI2B,EAAO,GAAKA,GAAQ3B,EAAM8B,OAASF,EAAO,GAAKA,GAAQ5B,EAAM+B,OAC/D,OAGF,MAAMC,EAAMhC,EAAMK,WAAW,MAEvBD,EADY4B,EAAI1B,aAAaqB,EAAMC,EAAM,EAAG,GACtBlB,KAE5B,GACEN,EAAU,KAAOyB,EAAS,IAC1BzB,EAAU,KAAOyB,EAAS,IAC1BzB,EAAU,KAAOyB,EAAS,GAE1B,OAGF,MAAMI,EAAMpB,EAASa,GACfQ,EAAeF,EAAIG,gBAAgB,EAAG,GACtCC,EAAeF,EAAaxB,KAClC0B,EAAa,GAAKH,EAAI,GACtBG,EAAa,GAAKH,EAAI,GACtBG,EAAa,GAAKH,EAAI,GACtBG,EAAa,GAAK,IAElBJ,EAAIK,aAAaH,EAAcP,EAAMC,GAErCU,YACE,IAAMb,EAAUC,EAAWC,EAAO,EAAGC,EAAMC,EAAU7B,IACrD,IAEFsC,YACE,IAAMb,EAAUC,EAAWC,EAAO,EAAGC,EAAO,EAAGC,EAAU7B,IACzD,IAEFsC,YACE,IAAMb,EAAUC,EAAWC,EAAO,EAAGC,EAAO,EAAGC,EAAU7B,IACzD,IAEFsC,YACE,IAAMb,EAAUC,EAAWC,EAAMC,EAAO,EAAGC,EAAU7B,IACrD,IAEFsC,YACE,IAAMb,EAAUC,EAAWC,EAAMC,EAAO,EAAGC,EAAU7B,IACrD,IAEFsC,YACE,IAAMb,EAAUC,EAAWC,EAAO,EAAGC,EAAMC,EAAU7B,IACrD,IAEFsC,YACE,IAAMb,EAAUC,EAAWC,EAAO,EAAGC,EAAO,EAAGC,EAAU7B,IACzD,IAEFsC,YACE,IAAMb,EAAUC,EAAWC,EAAO,EAAGC,EAAO,EAAGC,EAAU7B,IACzD,GACD,GAEH,CAACa,IAGG0B,GAAoBzC,EAAAA,EAAAA,cACvBC,IACC,MAAM4B,EAAO5B,EAAMQ,YAAYC,QACzBoB,EAAO7B,EAAMQ,YAAYE,QAEzBT,EAAQC,SAASC,eAAe,YAGhCsC,EAFMxC,EAAMK,WAAW,MACPC,aAAaqB,EAAMC,EAAM,EAAG,GACpBlB,KAE9Be,EAAU7B,EAAM+B,EAAMC,EAAMY,EAAaxC,EAAM,GAEjD,CAACJ,EAAM6B,IAGT,OACEgB,EAAAA,EAAAA,KAAA,UACEC,GAAG,WACHZ,MAAM,MACNC,OAAO,MACPY,MAAO,CACLC,OAAQ,YACRC,OAAQ,UACRC,OAAQ,kBAEVC,YAAalD,EACbmD,QAAST,GACD,C","sources":["routing/site/algo/components/FloodFill/CanvasImage.jsx"],"sourcesContent":["import React, { useCallback } from \"react\"\n\nconst CanvasImage = ({ fill }) => {\n  const captureMousePixel = useCallback((event) => {\n    const image = document.getElementById(\"cusImage\")\n    const details = document.getElementById(\"detailsPane\")\n    const ctx = image.getContext(\"2d\")\n    const imageData = ctx.getImageData(\n      event.nativeEvent.offsetX,\n      event.nativeEvent.offsetY,\n      1,\n      1\n    )\n    const pixelData = imageData.data\n    details.innerHTML = `R: ${pixelData[0]}<br>G: ${pixelData[1]}<br>B: ${pixelData[2]}<br>A: ${pixelData[3]}`\n  }, [])\n\n  const hexToRgb = useCallback((hex) => {\n    return hex\n      .replace(\n        /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,\n        (m, r, g, b) => \"#\" + r + r + g + g + b + b\n      )\n      .substring(1)\n      .match(/.{2}/g)\n      .map((x) => parseInt(x, 16))\n  }, [])\n\n  const fillPixel = useCallback(\n    (fillColor, xPos, yPos, firstRgb, image) => {\n      if (xPos < 0 || xPos >= image.width || yPos < 0 || yPos >= image.height) {\n        return\n      }\n\n      const ctx = image.getContext(\"2d\")\n      const imageData = ctx.getImageData(xPos, yPos, 1, 1)\n      const pixelData = imageData.data\n\n      if (\n        pixelData[0] !== firstRgb[0] ||\n        pixelData[1] !== firstRgb[1] ||\n        pixelData[2] !== firstRgb[2]\n      ) {\n        return\n      }\n\n      const rgb = hexToRgb(fillColor)\n      const newImageData = ctx.createImageData(1, 1)\n      const newPixelData = newImageData.data\n      newPixelData[0] = rgb[0]\n      newPixelData[1] = rgb[1]\n      newPixelData[2] = rgb[2]\n      newPixelData[3] = 255\n\n      ctx.putImageData(newImageData, xPos, yPos)\n\n      setTimeout(\n        () => fillPixel(fillColor, xPos + 1, yPos, firstRgb, image),\n        20\n      )\n      setTimeout(\n        () => fillPixel(fillColor, xPos + 1, yPos - 1, firstRgb, image),\n        20\n      )\n      setTimeout(\n        () => fillPixel(fillColor, xPos + 1, yPos + 1, firstRgb, image),\n        20\n      )\n      setTimeout(\n        () => fillPixel(fillColor, xPos, yPos + 1, firstRgb, image),\n        20\n      )\n      setTimeout(\n        () => fillPixel(fillColor, xPos, yPos - 1, firstRgb, image),\n        20\n      )\n      setTimeout(\n        () => fillPixel(fillColor, xPos - 1, yPos, firstRgb, image),\n        20\n      )\n      setTimeout(\n        () => fillPixel(fillColor, xPos - 1, yPos - 1, firstRgb, image),\n        20\n      )\n      setTimeout(\n        () => fillPixel(fillColor, xPos - 1, yPos + 1, firstRgb, image),\n        20\n      )\n    },\n    [hexToRgb]\n  )\n\n  const handleCanvasClick = useCallback(\n    (event) => {\n      const xPos = event.nativeEvent.offsetX\n      const yPos = event.nativeEvent.offsetY\n\n      const image = document.getElementById(\"cusImage\")\n      const ctx = image.getContext(\"2d\")\n      const imageData = ctx.getImageData(xPos, yPos, 1, 1)\n      const originalRgb = imageData.data\n\n      fillPixel(fill, xPos, yPos, originalRgb, image)\n    },\n    [fill, fillPixel]\n  )\n\n  return (\n    <canvas\n      id=\"cusImage\"\n      width=\"360\"\n      height=\"360\"\n      style={{\n        cursor: \"crosshair\",\n        margin: \"5% auto\",\n        border: \"1px solid #bbb\",\n      }}\n      onMouseMove={captureMousePixel}\n      onClick={handleCanvasClick}\n    ></canvas>\n  )\n}\n\nexport default CanvasImage\n"],"names":["_ref","fill","captureMousePixel","useCallback","event","image","document","getElementById","details","pixelData","getContext","getImageData","nativeEvent","offsetX","offsetY","data","innerHTML","concat","hexToRgb","hex","replace","m","r","g","b","substring","match","map","x","parseInt","fillPixel","fillColor","xPos","yPos","firstRgb","width","height","ctx","rgb","newImageData","createImageData","newPixelData","putImageData","setTimeout","handleCanvasClick","originalRgb","_jsx","id","style","cursor","margin","border","onMouseMove","onClick"],"sourceRoot":""}