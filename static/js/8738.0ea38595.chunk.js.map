{"version":3,"file":"static/js/8738.0ea38595.chunk.js","mappings":"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","sources":["common/components/FavoriteButton.jsx","common/hooks/useTrackView.jsx","routing/site/games/components/ConnectFour/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { FaStar, FaRegStar } from \"react-icons/fa\"\nimport { useUser } from \"common/context/UserContext\"\nimport \"./FavoriteButton.css\"\n\nconst FavoriteButton = ({ topic }) => {\n  const { addFavorite, removeFavorite, isFavorite } = useUser()\n  const [favorited, setFavorited] = useState(false)\n  const [showToast, setShowToast] = useState(false)\n\n  useEffect(() => {\n    setFavorited(isFavorite(topic.id))\n  }, [topic.id, isFavorite])\n\n  const handleToggleFavorite = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    if (favorited) {\n      removeFavorite(topic.id)\n      setFavorited(false)\n    } else {\n      addFavorite(topic)\n      setFavorited(true)\n      setShowToast(true)\n      setTimeout(() => setShowToast(false), 2000)\n    }\n  }\n\n  return (\n    <>\n      <button\n        className={`favorite-button ${favorited ? \"favorited\" : \"\"}`}\n        onClick={handleToggleFavorite}\n        title={favorited ? \"Remove from favorites\" : \"Add to favorites\"}\n        aria-label={favorited ? \"Remove from favorites\" : \"Add to favorites\"}\n      >\n        {favorited ? <FaStar /> : <FaRegStar />}\n        <span className=\"favorite-text\">\n          {favorited ? \"Favorited\" : \"Favorite\"}\n        </span>\n      </button>\n\n      {showToast && (\n        <div className=\"favorite-toast\">\n          <FaStar /> Added to favorites!\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default FavoriteButton\n","import { useEffect } from \"react\"\nimport { useUser } from \"common/context/UserContext\"\n\nconst useTrackView = (topicData) => {\n  const { addToRecentlyViewed } = useUser()\n\n  useEffect(() => {\n    if (topicData && topicData.id) {\n      addToRecentlyViewed(topicData)\n    }\n  }, [topicData, addToRecentlyViewed])\n}\n\nexport default useTrackView\n","import React, { useEffect, useMemo, useRef, useState } from \"react\"\nimport { motion } from \"framer-motion\"\nimport { FaRedo, FaUser, FaRobot } from \"react-icons/fa\"\nimport FavoriteButton from \"common/components/FavoriteButton\"\nimport useTrackView from \"common/hooks/useTrackView\"\nimport \"./ConnectFour.css\"\n\nconst ROWS = 6\nconst COLS = 7\nconst EMPTY = 0\nconst PLAYER = 1\nconst AI = 2\n\nconst getEmptyBoard = () =>\n  Array(ROWS)\n    .fill()\n    .map(() => Array(COLS).fill(EMPTY))\n\nconst getDropRow = (board, col) => {\n  for (let row = ROWS - 1; row >= 0; row--) {\n    if (board[row][col] === EMPTY) return row\n  }\n  return -1\n}\n\nconst ConnectFour = () => {\n  const [board, setBoard] = useState(getEmptyBoard)\n  const [currentPlayer, setCurrentPlayer] = useState(PLAYER)\n  const [winner, setWinner] = useState(null)\n  const [winningCells, setWinningCells] = useState([])\n  const [gameMode, setGameMode] = useState(\"ai\") // 'ai' or '2player'\n  const [scores, setScores] = useState({ player: 0, ai: 0, ties: 0 })\n  const [isAIThinking, setIsAIThinking] = useState(false)\n  const [hoverCol, setHoverCol] = useState(null)\n\n  const boardRef = useRef(board)\n  const aiTimeoutRef = useRef(null)\n\n  useEffect(() => {\n    boardRef.current = board\n  }, [board])\n\n  useTrackView({\n    id: \"games-connect-four\",\n    label: \"Connect Four\",\n    category: \"Game Zone\",\n    route: \"/games/ConnectFour\",\n  })\n\n  useEffect(() => {\n    // Prevent double-scheduling in React 18 StrictMode and ensure latest board is used.\n    if (aiTimeoutRef.current) {\n      clearTimeout(aiTimeoutRef.current)\n      aiTimeoutRef.current = null\n    }\n\n    if (gameMode !== \"ai\" || winner || currentPlayer !== AI) return\n    if (isAIThinking) return\n\n    setIsAIThinking(true)\n    aiTimeoutRef.current = setTimeout(() => {\n      makeAIMove(boardRef.current)\n      setIsAIThinking(false)\n      aiTimeoutRef.current = null\n    }, 450)\n\n    return () => {\n      if (aiTimeoutRef.current) {\n        clearTimeout(aiTimeoutRef.current)\n        aiTimeoutRef.current = null\n      }\n    }\n  }, [currentPlayer, gameMode, winner, isAIThinking])\n\n  const checkWinner = (board) => {\n    // Check horizontal\n    for (let row = 0; row < ROWS; row++) {\n      for (let col = 0; col < COLS - 3; col++) {\n        if (\n          board[row][col] !== EMPTY &&\n          board[row][col] === board[row][col + 1] &&\n          board[row][col] === board[row][col + 2] &&\n          board[row][col] === board[row][col + 3]\n        ) {\n          return {\n            winner: board[row][col],\n            cells: [\n              [row, col],\n              [row, col + 1],\n              [row, col + 2],\n              [row, col + 3],\n            ],\n          }\n        }\n      }\n    }\n\n    // Check vertical\n    for (let col = 0; col < COLS; col++) {\n      for (let row = 0; row < ROWS - 3; row++) {\n        if (\n          board[row][col] !== EMPTY &&\n          board[row][col] === board[row + 1][col] &&\n          board[row][col] === board[row + 2][col] &&\n          board[row][col] === board[row + 3][col]\n        ) {\n          return {\n            winner: board[row][col],\n            cells: [\n              [row, col],\n              [row + 1, col],\n              [row + 2, col],\n              [row + 3, col],\n            ],\n          }\n        }\n      }\n    }\n\n    // Check diagonal (down-right)\n    for (let row = 0; row < ROWS - 3; row++) {\n      for (let col = 0; col < COLS - 3; col++) {\n        if (\n          board[row][col] !== EMPTY &&\n          board[row][col] === board[row + 1][col + 1] &&\n          board[row][col] === board[row + 2][col + 2] &&\n          board[row][col] === board[row + 3][col + 3]\n        ) {\n          return {\n            winner: board[row][col],\n            cells: [\n              [row, col],\n              [row + 1, col + 1],\n              [row + 2, col + 2],\n              [row + 3, col + 3],\n            ],\n          }\n        }\n      }\n    }\n\n    // Check diagonal (up-right)\n    for (let row = 3; row < ROWS; row++) {\n      for (let col = 0; col < COLS - 3; col++) {\n        if (\n          board[row][col] !== EMPTY &&\n          board[row][col] === board[row - 1][col + 1] &&\n          board[row][col] === board[row - 2][col + 2] &&\n          board[row][col] === board[row - 3][col + 3]\n        ) {\n          return {\n            winner: board[row][col],\n            cells: [\n              [row, col],\n              [row - 1, col + 1],\n              [row - 2, col + 2],\n              [row - 3, col + 3],\n            ],\n          }\n        }\n      }\n    }\n\n    // Check for tie\n    if (board.every((row) => row.every((cell) => cell !== EMPTY))) {\n      return { winner: \"tie\", cells: [] }\n    }\n\n    return null\n  }\n\n  const applyMove = (col, player) => {\n    const current = boardRef.current\n    const row = getDropRow(current, col)\n    if (row === -1) return false\n\n    const next = current.map((r) => [...r])\n    next[row][col] = player\n    setBoard(next)\n\n    const result = checkWinner(next)\n    if (result) {\n      setWinner(result.winner)\n      setWinningCells(result.cells)\n\n      if (result.winner === PLAYER) {\n        setScores((s) => ({ ...s, player: s.player + 1 }))\n      } else if (result.winner === AI) {\n        setScores((s) => ({ ...s, ai: s.ai + 1 }))\n      } else if (result.winner === \"tie\") {\n        setScores((s) => ({ ...s, ties: s.ties + 1 }))\n      }\n    } else {\n      setCurrentPlayer(player === PLAYER ? AI : PLAYER)\n    }\n\n    return true\n  }\n\n  const canInteract = useMemo(() => {\n    if (winner) return false\n    if (gameMode === \"ai\" && currentPlayer === AI) return false\n    if (isAIThinking) return false\n    return true\n  }, [winner, gameMode, currentPlayer, isAIThinking])\n\n  const handleColumnClick = (col) => {\n    if (!canInteract) return\n    applyMove(col, currentPlayer)\n  }\n\n  const makeAIMove = (boardState) => {\n    const validColumns = []\n    for (let col = 0; col < COLS; col++) {\n      if (boardState[0][col] === EMPTY) {\n        validColumns.push(col)\n      }\n    }\n\n    if (validColumns.length === 0) return\n\n    // Simple AI: Try to win, block player, or random\n    let bestCol = null\n\n    // Check if AI can win\n    for (const col of validColumns) {\n      const testBoard = boardState.map((r) => [...r])\n      for (let row = ROWS - 1; row >= 0; row--) {\n        if (testBoard[row][col] === EMPTY) {\n          testBoard[row][col] = AI\n          if (checkWinner(testBoard)?.winner === AI) {\n            bestCol = col\n          }\n          break\n        }\n      }\n      if (bestCol !== null) break\n    }\n\n    // Check if need to block player\n    if (bestCol === null) {\n      for (const col of validColumns) {\n        const testBoard = boardState.map((r) => [...r])\n        for (let row = ROWS - 1; row >= 0; row--) {\n          if (testBoard[row][col] === EMPTY) {\n            testBoard[row][col] = PLAYER\n            if (checkWinner(testBoard)?.winner === PLAYER) {\n              bestCol = col\n            }\n            break\n          }\n        }\n        if (bestCol !== null) break\n      }\n    }\n\n    // Otherwise pick center or random\n    if (bestCol === null) {\n      const centerCol = Math.floor(COLS / 2)\n      if (validColumns.includes(centerCol)) {\n        bestCol = centerCol\n      } else {\n        bestCol = validColumns[Math.floor(Math.random() * validColumns.length)]\n      }\n    }\n\n    applyMove(bestCol, AI)\n  }\n\n  const resetGame = () => {\n    setBoard(getEmptyBoard())\n    setCurrentPlayer(PLAYER)\n    setWinner(null)\n    setWinningCells([])\n    setIsAIThinking(false)\n    setHoverCol(null)\n    if (aiTimeoutRef.current) {\n      clearTimeout(aiTimeoutRef.current)\n      aiTimeoutRef.current = null\n    }\n  }\n\n  const isWinningCell = (row, col) => {\n    return winningCells.some(([r, c]) => r === row && c === col)\n  }\n\n  return (\n    <div className=\"connect-four-container\">\n      <div className=\"connect-four-header\">\n        <h1>Connect Four üî¥üü°</h1>\n        <p>Connect four discs in a row to win!</p>\n        <div className=\"header-buttons\">\n          <FavoriteButton\n            topic={{\n              id: \"games-connect-four\",\n              label: \"Connect Four\",\n              category: \"Game Zone\",\n              route: \"/games/ConnectFour\",\n            }}\n          />\n        </div>\n      </div>\n\n      <div className=\"connect-four-content\">\n        <div className=\"game-controls\">\n          <div className=\"mode-selector\">\n            <button\n              className={`mode-btn ${gameMode === \"ai\" ? \"active\" : \"\"}`}\n              onClick={() => {\n                setGameMode(\"ai\")\n                resetGame()\n              }}\n            >\n              <FaRobot /> vs AI\n            </button>\n            <button\n              className={`mode-btn ${gameMode === \"2player\" ? \"active\" : \"\"}`}\n              onClick={() => {\n                setGameMode(\"2player\")\n                resetGame()\n              }}\n            >\n              <FaUser /> 2 Players\n            </button>\n          </div>\n\n          <div className=\"scores\">\n            <div className=\"score-box player\">\n              <div className=\"score-label\">\n                {gameMode === \"ai\" ? \"You\" : \"Player 1\"}\n              </div>\n              <div className=\"score-value\">{scores.player}</div>\n            </div>\n            <div className=\"score-box ties\">\n              <div className=\"score-label\">Ties</div>\n              <div className=\"score-value\">{scores.ties}</div>\n            </div>\n            <div className=\"score-box ai\">\n              <div className=\"score-label\">\n                {gameMode === \"ai\" ? \"AI\" : \"Player 2\"}\n              </div>\n              <div className=\"score-value\">{scores.ai}</div>\n            </div>\n          </div>\n\n          <div className=\"game-status\">\n            {winner ? (\n              <div className=\"winner-message\">\n                {winner === \"tie\"\n                  ? \"It's a Tie! ü§ù\"\n                  : winner === PLAYER\n                  ? `${gameMode === \"ai\" ? \"You\" : \"Player 1\"} Win! üéâ`\n                  : `${gameMode === \"ai\" ? \"AI\" : \"Player 2\"} Wins! üéâ`}\n              </div>\n            ) : (\n              <div className=\"turn-indicator\">\n                {currentPlayer === PLAYER ? (\n                  <span className=\"player-turn\">\n                    {gameMode === \"ai\" ? \"Your\" : \"Player 1's\"} Turn\n                  </span>\n                ) : (\n                  <span className=\"ai-turn\">\n                    {gameMode === \"ai\" ? \"AI\" : \"Player 2\"}&apos;s Turn\n                    {isAIThinking && \" ü§î\"}\n                  </span>\n                )}\n              </div>\n            )}\n          </div>\n\n          <button className=\"reset-btn\" onClick={resetGame}>\n            <FaRedo /> New Game\n          </button>\n        </div>\n\n        <div className=\"board-container\">\n          <div className=\"connect-four-board-wrap\">\n            <div\n              className=\"column-select\"\n              role=\"group\"\n              aria-label=\"Choose column\"\n            >\n              {Array.from({ length: COLS }).map((_, col) => {\n                const full = getDropRow(board, col) === -1\n                const disabled = full || !canInteract\n                const isActive = hoverCol === col\n\n                return (\n                  <button\n                    key={col}\n                    className={`col-btn ${isActive ? \"active\" : \"\"}`}\n                    disabled={disabled}\n                    onMouseEnter={() => setHoverCol(col)}\n                    onMouseLeave={() => setHoverCol(null)}\n                    onFocus={() => setHoverCol(col)}\n                    onBlur={() => setHoverCol(null)}\n                    onClick={() => handleColumnClick(col)}\n                    aria-label={`Drop in column ${col + 1}`}\n                  >\n                    <span\n                      className={`preview-disc ${\n                        currentPlayer === PLAYER ? \"player\" : \"ai\"\n                      } ${disabled ? \"disabled\" : \"\"}`}\n                    />\n                  </button>\n                )\n              })}\n            </div>\n\n            <div className=\"connect-four-board\">\n              {board.map((row, rowIndex) =>\n                row.map((cell, colIndex) => (\n                  <div\n                    key={`${rowIndex}-${colIndex}`}\n                    className={`cell ${\n                      canInteract && getDropRow(board, colIndex) !== -1\n                        ? \"clickable\"\n                        : \"\"\n                    }`}\n                    onClick={() => handleColumnClick(colIndex)}\n                    onMouseEnter={() => setHoverCol(colIndex)}\n                    onMouseLeave={() => setHoverCol(null)}\n                    role=\"button\"\n                    tabIndex={-1}\n                  >\n                    {cell !== EMPTY && (\n                      <motion.div\n                        className={`disc ${cell === PLAYER ? \"player\" : \"ai\"} ${\n                          isWinningCell(rowIndex, colIndex) ? \"winning\" : \"\"\n                        }`}\n                        initial={{ y: -220, scale: 0.9 }}\n                        animate={{ y: 0, scale: 1 }}\n                        transition={{\n                          type: \"spring\",\n                          stiffness: 420,\n                          damping: 24,\n                        }}\n                      />\n                    )}\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"instructions\">\n          <h3>How to Play:</h3>\n          <ul>\n            <li>Click on a column to drop your disc</li>\n            <li>Connect 4 discs horizontally, vertically, or diagonally</li>\n            <li>Block your opponent from getting 4 in a row</li>\n            <li>\n              {gameMode === \"ai\"\n                ? \"Beat the AI to prove your strategy!\"\n                : \"Take turns with your friend!\"}\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ConnectFour\n"],"names":["_ref","topic","addFavorite","removeFavorite","isFavorite","useUser","favorited","setFavorited","useState","showToast","setShowToast","useEffect","id","_jsxs","_Fragment","children","className","onClick","e","preventDefault","stopPropagation","setTimeout","title","_jsx","FaStar","FaRegStar","topicData","addToRecentlyViewed","getEmptyBoard","Array","fill","map","getDropRow","board","col","row","ROWS","ConnectFour","setBoard","currentPlayer","setCurrentPlayer","winner","setWinner","winningCells","setWinningCells","gameMode","setGameMode","scores","setScores","player","ai","ties","isAIThinking","setIsAIThinking","hoverCol","setHoverCol","boardRef","useRef","aiTimeoutRef","current","useTrackView","label","category","route","clearTimeout","makeAIMove","checkWinner","COLS","cells","every","cell","applyMove","next","r","result","s","canInteract","useMemo","handleColumnClick","boardState","validColumns","push","length","bestCol","testBoard","_checkWinner","_checkWinner2","centerCol","Math","floor","includes","random","resetGame","isWinningCell","some","c","FavoriteButton","FaRobot","FaUser","FaRedo","role","from","_","disabled","isActive","onMouseEnter","onMouseLeave","onFocus","onBlur","rowIndex","colIndex","tabIndex","motion","initial","y","scale","animate","transition","type","stiffness","damping"],"sourceRoot":""}