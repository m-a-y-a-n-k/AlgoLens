"use strict";(self.webpackChunkAlgoLens=self.webpackChunkAlgoLens||[]).push([[1139],{54183:(e,s,a)=>{a.d(s,{Z:()=>n});var t=a(72791),l=a(56355),i=a(75818),r=a(80184);const n=e=>{let{topic:s}=e;const{addFavorite:a,removeFavorite:n,isFavorite:o}=(0,i.a)(),[c,d]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{d(o(s.id))}),[s.id,o]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{className:"favorite-button "+(c?"favorited":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),c?(n(s.id),d(!1)):(a(s),d(!0),f(!0),setTimeout((()=>f(!1)),2e3))},title:c?"Remove from favorites":"Add to favorites","aria-label":c?"Remove from favorites":"Add to favorites",children:[c?(0,r.jsx)(l.QJe,{}):(0,r.jsx)(l.jJN,{}),(0,r.jsx)("span",{className:"favorite-text",children:c?"Favorited":"Favorite"})]}),m&&(0,r.jsxs)("div",{className:"favorite-toast",children:[(0,r.jsx)(l.QJe,{})," Added to favorites!"]})]})}},69797:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(72791),l=a(75818);const i=e=>{const{addToRecentlyViewed:s}=(0,l.a)();(0,t.useEffect)((()=>{e&&e.id&&s(e)}),[e,s])}},1139:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var t=a(72791),l=a(67776),i=a(56355),r=a(54183),n=a(69797),o=a(80184);const c={beginner:{rows:9,cols:9,mines:10},intermediate:{rows:16,cols:16,mines:40},expert:{rows:16,cols:30,mines:99}},d=()=>{const[e,s]=(0,t.useState)("beginner"),[a,d]=(0,t.useState)([]),[m,f]=(0,t.useState)([]),[h,x]=(0,t.useState)([]),[v,j]=(0,t.useState)(!1),[u,p]=(0,t.useState)(!1),[w,g]=(0,t.useState)(c.beginner.mines),[b,N]=(0,t.useState)(0),[y,A]=(0,t.useState)(!1),[k,C]=(0,t.useState)(!0);(0,n.Z)({id:"games-minesweeper",label:"Minesweeper",category:"Game Zone",route:"/games/Minesweeper"}),(0,t.useEffect)((()=>{let e;return!y||v||u||(e=setInterval((()=>N((e=>e+1))),1e3)),()=>clearInterval(e)}),[y,v,u]),(0,t.useEffect)((()=>{M()}),[e]);const M=()=>{const{rows:s,cols:a}=c[e],t=Array(s).fill().map((()=>Array(a).fill(0)));d(t),f(Array(s).fill().map((()=>Array(a).fill(!1)))),x(Array(s).fill().map((()=>Array(a).fill(!1)))),j(!1),p(!1),N(0),A(!1),C(!0),g(c[e].mines)},S=(s,t)=>{if(v||u||m[s][t]||h[s][t])return;k&&(((s,a)=>{const{rows:t,cols:l,mines:i}=c[e],r=Array(t).fill().map((()=>Array(l).fill(0)));let n=0;for(;n<i;){const e=Math.floor(Math.random()*t),i=Math.floor(Math.random()*l);Math.abs(e-s)<=1&&Math.abs(i-a)<=1||-1!==r[e][i]&&(r[e][i]=-1,n++)}for(let e=0;e<t;e++)for(let s=0;s<l;s++)if(-1!==r[e][s]){let a=0;for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++){const o=e+i,c=s+n;o>=0&&o<t&&c>=0&&c<l&&-1===r[o][c]&&a++}r[e][s]=a}d(r)})(s,t),C(!1),A(!0));const l=m.map((e=>[...e]));if(-1===a[s][t])return l[s][t]=!0,f(l),j(!0),A(!1),void F();const i=(s,t)=>{if(!(s<0||s>=c[e].rows||t<0||t>=c[e].cols||l[s][t]||h[s][t])&&(l[s][t]=!0,0===a[s][t]))for(let e=-1;e<=1;e++)for(let a=-1;a<=1;a++)i(s+e,t+a)};i(s,t),f(l),E(l)},F=()=>{const e=m.map((e=>[...e]));for(let s=0;s<a.length;s++)for(let t=0;t<a[0].length;t++)-1===a[s][t]&&(e[s][t]=!0);f(e)},E=s=>{const{rows:a,cols:t,mines:l}=c[e];s.flat().filter((e=>e)).length===a*t-l&&(p(!0),A(!1))};return(0,o.jsxs)("div",{className:"minesweeper-container",children:[(0,o.jsxs)("div",{className:"minesweeper-header",children:[(0,o.jsx)("h1",{children:"Minesweeper \ud83d\udca3"}),(0,o.jsx)("p",{children:"Find all mines without detonating any!"}),(0,o.jsx)("div",{className:"header-buttons",children:(0,o.jsx)(r.Z,{topic:{id:"games-minesweeper",label:"Minesweeper",category:"Game Zone",route:"/games/Minesweeper"}})})]}),(0,o.jsxs)("div",{className:"minesweeper-content",children:[(0,o.jsxs)("div",{className:"game-controls",children:[(0,o.jsx)("div",{className:"difficulty-selector",children:Object.keys(c).map((a=>(0,o.jsx)("button",{className:"diff-btn "+(e===a?"active":""),onClick:()=>s(a),children:a.charAt(0).toUpperCase()+a.slice(1)},a)))}),(0,o.jsxs)("div",{className:"game-info",children:[(0,o.jsxs)("div",{className:"info-box",children:[(0,o.jsx)(i.KBx,{}),(0,o.jsx)("span",{children:w})]}),(0,o.jsx)("button",{className:"new-game-btn",onClick:M,children:"New Game"}),(0,o.jsxs)("div",{className:"info-box",children:["\u23f1\ufe0f ",(0,o.jsxs)("span",{children:[b,"s"]})]})]})]}),(0,o.jsxs)("div",{className:"board-wrapper",children:[(0,o.jsx)("div",{className:"minesweeper-board",style:{gridTemplateColumns:`repeat(${c[e].cols}, 1fr)`},children:a.map(((s,a)=>s.map(((s,t)=>{return(0,o.jsxs)(l.E.div,{className:`cell ${m[a][t]?"revealed":""} ${h[a][t]?"flagged":""} ${m[a][t]&&-1===s?"mine":""}`,onClick:()=>S(a,t),onContextMenu:s=>((s,a,t)=>{if(t.preventDefault(),v||u||m[s][a]||k)return;const l=h.map((e=>[...e]));l[s][a]=!l[s][a],x(l);const i=l.flat().filter((e=>e)).length;g(c[e].mines-i)})(a,t,s),whileHover:{scale:m[a][t]?1:1.05},whileTap:{scale:.95},children:[h[a][t]&&!m[a][t]&&(0,o.jsx)(i.wQ2,{className:"flag-icon"}),m[a][t]&&(-1===s?(0,o.jsx)(i.KBx,{className:"bomb-icon"}):s>0?(0,o.jsx)("span",{style:{color:(r=s,{1:"#0000ff",2:"#008000",3:"#ff0000",4:"#000080",5:"#800000",6:"#008080",7:"#000000",8:"#808080"}[r]||"#000")},children:s}):null)]},`${a}-${t}`);var r}))))}),(v||u)&&(0,o.jsx)(l.E.div,{className:"game-overlay",initial:{opacity:0},animate:{opacity:1},children:(0,o.jsxs)("div",{className:"overlay-content",children:[(0,o.jsx)("h2",{children:u?"You Win! \ud83c\udf89":"Game Over! \ud83d\udca5"}),(0,o.jsxs)("p",{children:["Time: ",b,"s"]}),(0,o.jsx)("button",{className:"try-again-btn",onClick:M,children:"Play Again"})]})})]}),(0,o.jsxs)("div",{className:"instructions",children:[(0,o.jsx)("h3",{children:"How to Play:"}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Left Click"})," to reveal a cell"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Right Click"})," to place/remove a flag"]}),(0,o.jsx)("li",{children:"Numbers show how many mines are adjacent to that cell"}),(0,o.jsx)("li",{children:"First click is always safe"}),(0,o.jsx)("li",{children:"Find all non-mine cells to win!"})]})]})]})]})}}}]);
//# sourceMappingURL=1139.bdb6e5a9.chunk.js.map